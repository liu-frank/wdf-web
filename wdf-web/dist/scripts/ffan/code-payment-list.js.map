{"version":3,"sources":["ffan/code-payment-list.js"],"names":["PAGE_SIZE","META","orderNum","label","merchantSeq","merchantName","outlet","PWID","vipMobile","orderAmount","benefitAmount","realPayAmount","payChannel","fromInvoking","transStatus","errorMsg","orderCreateTime","type","TABLE_FIELDS","FILTER_FIELDS","queryData","options","WUI","ajax","url","jsonData","pageNum","currentPage","pageSize","then","resp","DataTableEx","create","$el","$","meta","fields","list","paymentCodeOrderList","DataPaginator","total","onSwitchPage","ready","queryResource","getResource","ContentHeader","name","DataFilterEx","rightButton","resourceDisplayName","callback","param","console","log","extend","init","system"],"mappings":"AAAA,YAEA,IAAIA,WAAY,GACZC,MACFC,UAAYC,MAAO,QACnBC,aAAeD,MAAO,QACtBE,cAAgBF,MAAO,QACvBG,QAAUH,MAAO,MACjBI,MAAQJ,MAAO,QACfK,WAAaL,MAAO,SACpBM,aAAeN,MAAO,WACtBO,eAAiBP,MAAO,WACxBQ,eAAiBR,MAAO,aACxBS,YAAcT,MAAO,QACrBU,cAAgBV,MAAO,SACvBW,aAAeX,MAAO,QACtBY,UAAYZ,MAAO,QACnBa,iBAAmBb,MAAO,SAAUc,KAAM,gBAExCC,cACF,kBAAmB,kBAAmB,2BAA4B,iBAClE,0BAA2B,2BAA4B,6BACvD,YAEEC,eAAiB,WAAY,cAAe,YAAa,mBAEzDC,UAAY,SAAUC,GACxBC,IAAIC,MACFC,IAAK,yCACLC,UACEvB,SAAUmB,EAAQnB,UAAY,GAC9BE,YAAaiB,EAAQjB,aAAe,GACpCI,UAAWa,EAAQb,WAAa,GAChCQ,gBAAiBK,EAAQL,iBAAmB,GAC5CU,QAASL,EAAQM,YACjBC,SAAUP,EAAQO,YAEnBC,KAAK,SAAUC,GAChBR,IAAIS,YAAYC,QACdC,IAAKC,EAAE,eACPC,KAAMlC,KACNmC,OAAQlB,aACRmB,KAAMP,EAAKQ,uBAGbhB,IAAIiB,cAAcP,QAChBC,IAAKC,EAAE,mBACPP,YAAaN,EAAQM,YACrBa,MAAOV,EAAKU,MACZZ,SAAUP,EAAQO,SAClBa,aAAc,SAAUd,GACtBP,WACEO,YAAaA,EACbC,SAAUP,EAAQO,gBAO5BN,KAAIoB,MAAQ,WACV,GAAIC,GAAgBrB,IAAIsB,YAAY,SAClBtB,KAAIsB,YAAY,OAElCtB,KAAIuB,cAAcb,QAChBC,IAAKC,EAAE,mBACPC,OACEW,KAAM,KACNtB,IAAK,SAGHsB,KAAM,UAGNA,KAAM,gBAIZxB,IAAIyB,aAAaf,QACfC,IAAKC,EAAE,gBACPC,KAAMlC,KACNmC,OAAQjB,cACR6B,aACEF,KAAMH,GAAiBA,EAAcM,qBAAuB,KAC5DC,SAAU,SAASC,GAClBC,QAAQC,IAAIF,GACX/B,UAAUc,EAAEoB,OAAOH,GACjBxB,YAAa,EACbC,SAAU5B,iBAYlBoB,WACEO,YAAa,EACbC,SAAU,MAIdM,EAAE,WACAZ,IAAIiC,MACFC,OAAQ","file":"ffan/code-payment-list.js","sourcesContent":["'use strict';\n// Constants\nvar PAGE_SIZE = 20;\nvar META = {\n  orderNum: { label: '交易单号' },\n  merchantSeq: { label: '商户单号' },\n  merchantName: { label: '商户名称' },\n  outlet: { label: '门店' },\n  PWID: { label: 'PWID' },\n  vipMobile: { label: '会员手机号' },\n  orderAmount: { label: '订单金额(元)' },\n  benefitAmount: { label: '优惠金额(元)' },\n  realPayAmount: { label: '实际支付金额(元)' },\n  payChannel: { label: '支付渠道' },\n  fromInvoking: { label: '支付调用方' },\n  transStatus: { label: '交易状态' },\n  errorMsg: { label: '错误信息' },\n  orderCreateTime: { label: '订单创建时间', type: 'date-picker' }\n};\nvar TABLE_FIELDS = [\n  'orderCreateTime', 'outlet/orderNum', 'merchantName/merchantSeq', 'vipMobile/PWID',\n  'transStatus/orderAmount', 'payChannel/benefitAmount', 'fromInvoking/realPayAmount',\n  'errorMsg'\n];\nvar FILTER_FIELDS = ['orderNum', 'merchantSeq', 'vipMobile', 'orderCreateTime'];\n\nvar queryData = function (options) {\n  WUI.ajax({\n    url: '/ams/v1/payment/query/paymentCodeOrder',\n    jsonData: {\n      orderNum: options.orderNum || '',\n      merchantSeq: options.merchantSeq || '',\n      vipMobile: options.vipMobile || '',\n      orderCreateTime: options.orderCreateTime || '',\n      pageNum: options.currentPage,\n      pageSize: options.pageSize\n    }\n  }).then(function (resp) {\n    WUI.DataTableEx.create({\n      $el: $('.data-table'),\n      meta: META,\n      fields: TABLE_FIELDS,\n      list: resp.paymentCodeOrderList\n    });\n\n    WUI.DataPaginator.create({\n      $el: $('.data-paginator'),\n      currentPage: options.currentPage,\n      total: resp.total,\n      pageSize: options.pageSize,\n      onSwitchPage: function (currentPage) {\n        queryData({\n          currentPage: currentPage,\n          pageSize: options.pageSize\n        });\n      }\n    });\n  });\n};\n// Load Page\nWUI.ready = function () {\n  var queryResource = WUI.getResource('/query');\n  var addResource = WUI.getResource('/add');\n\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '首页',\n      url: '/ams'\n    },\n      {\n        name: '飞凡通业务'\n      },\n      {\n        name: '付款码支付订单查询'\n      }]\n  });\n\n  WUI.DataFilterEx.create({\n    $el: $('.data-filter'),\n    meta: META,\n    fields: FILTER_FIELDS,\n    rightButton: {\n      name: queryResource && queryResource.resourceDisplayName || '查询',\n      callback: function(param) {\n       console.log(param);\n        queryData($.extend(param, {\n          currentPage: 0,\n          pageSize: PAGE_SIZE\n        }));\n      }\n    },\n    //leftButton: {\n    //  name: '导出Excel',\n    //  callback: function(param) {\n    //\n    //  }\n    //}\n  });\n\n  queryData({\n    currentPage: 0,\n    pageSize: 20\n  });\n}\n  // Keep this function\n$(function () {\n  WUI.init({\n    system: 'ams'\n  });\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmZmFuL2NvZGUtcGF5bWVudC1saXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIENvbnN0YW50c1xudmFyIFBBR0VfU0laRSA9IDIwO1xudmFyIE1FVEEgPSB7XG4gIG9yZGVyTnVtOiB7IGxhYmVsOiAn5Lqk5piT5Y2V5Y+3JyB9LFxuICBtZXJjaGFudFNlcTogeyBsYWJlbDogJ+WVhuaIt+WNleWPtycgfSxcbiAgbWVyY2hhbnROYW1lOiB7IGxhYmVsOiAn5ZWG5oi35ZCN56ewJyB9LFxuICBvdXRsZXQ6IHsgbGFiZWw6ICfpl6jlupcnIH0sXG4gIFBXSUQ6IHsgbGFiZWw6ICdQV0lEJyB9LFxuICB2aXBNb2JpbGU6IHsgbGFiZWw6ICfkvJrlkZjmiYvmnLrlj7cnIH0sXG4gIG9yZGVyQW1vdW50OiB7IGxhYmVsOiAn6K6i5Y2V6YeR6aKdKOWFgyknIH0sXG4gIGJlbmVmaXRBbW91bnQ6IHsgbGFiZWw6ICfkvJjmg6Dph5Hpop0o5YWDKScgfSxcbiAgcmVhbFBheUFtb3VudDogeyBsYWJlbDogJ+WunumZheaUr+S7mOmHkeminSjlhYMpJyB9LFxuICBwYXlDaGFubmVsOiB7IGxhYmVsOiAn5pSv5LuY5rig6YGTJyB9LFxuICBmcm9tSW52b2tpbmc6IHsgbGFiZWw6ICfmlK/ku5josIPnlKjmlrknIH0sXG4gIHRyYW5zU3RhdHVzOiB7IGxhYmVsOiAn5Lqk5piT54q25oCBJyB9LFxuICBlcnJvck1zZzogeyBsYWJlbDogJ+mUmeivr+S/oeaBrycgfSxcbiAgb3JkZXJDcmVhdGVUaW1lOiB7IGxhYmVsOiAn6K6i5Y2V5Yib5bu65pe26Ze0JywgdHlwZTogJ2RhdGUtcGlja2VyJyB9XG59O1xudmFyIFRBQkxFX0ZJRUxEUyA9IFtcbiAgJ29yZGVyQ3JlYXRlVGltZScsICdvdXRsZXQvb3JkZXJOdW0nLCAnbWVyY2hhbnROYW1lL21lcmNoYW50U2VxJywgJ3ZpcE1vYmlsZS9QV0lEJyxcbiAgJ3RyYW5zU3RhdHVzL29yZGVyQW1vdW50JywgJ3BheUNoYW5uZWwvYmVuZWZpdEFtb3VudCcsICdmcm9tSW52b2tpbmcvcmVhbFBheUFtb3VudCcsXG4gICdlcnJvck1zZydcbl07XG52YXIgRklMVEVSX0ZJRUxEUyA9IFsnb3JkZXJOdW0nLCAnbWVyY2hhbnRTZXEnLCAndmlwTW9iaWxlJywgJ29yZGVyQ3JlYXRlVGltZSddO1xuXG52YXIgcXVlcnlEYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgV1VJLmFqYXgoe1xuICAgIHVybDogJy9hbXMvdjEvcGF5bWVudC9xdWVyeS9wYXltZW50Q29kZU9yZGVyJyxcbiAgICBqc29uRGF0YToge1xuICAgICAgb3JkZXJOdW06IG9wdGlvbnMub3JkZXJOdW0gfHwgJycsXG4gICAgICBtZXJjaGFudFNlcTogb3B0aW9ucy5tZXJjaGFudFNlcSB8fCAnJyxcbiAgICAgIHZpcE1vYmlsZTogb3B0aW9ucy52aXBNb2JpbGUgfHwgJycsXG4gICAgICBvcmRlckNyZWF0ZVRpbWU6IG9wdGlvbnMub3JkZXJDcmVhdGVUaW1lIHx8ICcnLFxuICAgICAgcGFnZU51bTogb3B0aW9ucy5jdXJyZW50UGFnZSxcbiAgICAgIHBhZ2VTaXplOiBvcHRpb25zLnBhZ2VTaXplXG4gICAgfVxuICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgV1VJLkRhdGFUYWJsZUV4LmNyZWF0ZSh7XG4gICAgICAkZWw6ICQoJy5kYXRhLXRhYmxlJyksXG4gICAgICBtZXRhOiBNRVRBLFxuICAgICAgZmllbGRzOiBUQUJMRV9GSUVMRFMsXG4gICAgICBsaXN0OiByZXNwLnBheW1lbnRDb2RlT3JkZXJMaXN0XG4gICAgfSk7XG5cbiAgICBXVUkuRGF0YVBhZ2luYXRvci5jcmVhdGUoe1xuICAgICAgJGVsOiAkKCcuZGF0YS1wYWdpbmF0b3InKSxcbiAgICAgIGN1cnJlbnRQYWdlOiBvcHRpb25zLmN1cnJlbnRQYWdlLFxuICAgICAgdG90YWw6IHJlc3AudG90YWwsXG4gICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZSxcbiAgICAgIG9uU3dpdGNoUGFnZTogZnVuY3Rpb24gKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHF1ZXJ5RGF0YSh7XG4gICAgICAgICAgY3VycmVudFBhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICAgIHBhZ2VTaXplOiBvcHRpb25zLnBhZ2VTaXplXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG4vLyBMb2FkIFBhZ2VcbldVSS5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHF1ZXJ5UmVzb3VyY2UgPSBXVUkuZ2V0UmVzb3VyY2UoJy9xdWVyeScpO1xuICB2YXIgYWRkUmVzb3VyY2UgPSBXVUkuZ2V0UmVzb3VyY2UoJy9hZGQnKTtcblxuICBXVUkuQ29udGVudEhlYWRlci5jcmVhdGUoe1xuICAgICRlbDogJCgnLmNvbnRlbnQtaGVhZGVyJyksXG4gICAgbWV0YTogW3tcbiAgICAgIG5hbWU6ICfpppbpobUnLFxuICAgICAgdXJsOiAnL2FtcydcbiAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAn6aOe5Yeh6YCa5Lia5YqhJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ+S7mOasvueggeaUr+S7mOiuouWNleafpeivoidcbiAgICAgIH1dXG4gIH0pO1xuXG4gIFdVSS5EYXRhRmlsdGVyRXguY3JlYXRlKHtcbiAgICAkZWw6ICQoJy5kYXRhLWZpbHRlcicpLFxuICAgIG1ldGE6IE1FVEEsXG4gICAgZmllbGRzOiBGSUxURVJfRklFTERTLFxuICAgIHJpZ2h0QnV0dG9uOiB7XG4gICAgICBuYW1lOiBxdWVyeVJlc291cmNlICYmIHF1ZXJ5UmVzb3VyY2UucmVzb3VyY2VEaXNwbGF5TmFtZSB8fCAn5p+l6K+iJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbihwYXJhbSkge1xuICAgICAgIGNvbnNvbGUubG9nKHBhcmFtKTtcbiAgICAgICAgcXVlcnlEYXRhKCQuZXh0ZW5kKHBhcmFtLCB7XG4gICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgcGFnZVNpemU6IFBBR0VfU0laRVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvL2xlZnRCdXR0b246IHtcbiAgICAvLyAgbmFtZTogJ+WvvOWHukV4Y2VsJyxcbiAgICAvLyAgY2FsbGJhY2s6IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgLy9cbiAgICAvLyAgfVxuICAgIC8vfVxuICB9KTtcblxuICBxdWVyeURhdGEoe1xuICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgIHBhZ2VTaXplOiAyMFxuICB9KTtcbn1cbiAgLy8gS2VlcCB0aGlzIGZ1bmN0aW9uXG4kKGZ1bmN0aW9uICgpIHtcbiAgV1VJLmluaXQoe1xuICAgIHN5c3RlbTogJ2FtcydcbiAgfSk7XG59KTtcbiJdLCJmaWxlIjoiZmZhbi9jb2RlLXBheW1lbnQtbGlzdC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n"],"sourceRoot":"/source/"}