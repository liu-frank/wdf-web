{"version":3,"sources":["ffan/code-refund-list.js"],"names":["PAGE_SIZE","META","orderNum","label","refundNum","merchantName","outlet","PWID","vipMobile","payAmount","refundAmount","refundStatus","payChannel","fromInvoking","refundTime","type","TABLE_FIELDS","FILTER_FIELDS","queryData","options","WUI","ajax","url","jsonData","pageNum","currentPage","pageSize","then","resp","DataTableEx","create","$el","$","meta","fields","list","paymentCodeRefundOrderList","DataPaginator","total","onSwitchPage","ready","queryResource","getResource","ContentHeader","name","DataFilterEx","rightButton","resourceDisplayName","callback","param","console","log","extend","init","system"],"mappings":"AAAA,YAEA,IAAIA,WAAY,GACZC,MACFC,UAAYC,MAAO,QACnBC,WAAaD,MAAO,QACpBE,cAAgBF,MAAO,QACvBG,QAAUH,MAAO,MACjBI,MAAQJ,MAAO,QACfK,WAAaL,MAAO,SACpBM,WAAaN,MAAO,WACpBO,cAAgBP,MAAO,WACvBQ,cAAgBR,MAAO,QACvBS,YAAcT,MAAO,QACrBU,cAAgBV,MAAO,SACvBW,YAAcX,MAAO,SAAUY,KAAM,gBAEnCC,cACF,aAAc,kBAAmB,yBAA0B,iBAC3D,uBAAwB,4BAA6B,gBAEnDC,eAAiB,WAAY,YAAa,cAE1CC,UAAY,SAAUC,GACxBC,IAAIC,MACFC,IAAK,+CACLC,UACEnB,UAAWe,EAAQf,WAAa,GAChCF,SAAUiB,EAAQjB,UAAY,GAC9BM,UAAWW,EAAQX,WAAa,GAChCM,WAAYK,EAAQL,YAAc,GAClCU,QAASL,EAAQM,YACjBC,SAAUP,EAAQO,YAEnBC,KAAK,SAAUC,GAChBR,IAAIS,YAAYC,QACdC,IAAKC,EAAE,eACPC,KAAMhC,KACNiC,OAAQlB,aACRmB,KAAMP,EAAKQ,6BAGbhB,IAAIiB,cAAcP,QAChBC,IAAKC,EAAE,mBACPP,YAAaN,EAAQM,YACrBa,MAAOV,EAAKU,MACZZ,SAAUP,EAAQO,SAClBa,aAAc,SAAUd,GACtBP,WACEO,YAAaA,EACbC,SAAUP,EAAQO,gBAO5BN,KAAIoB,MAAQ,WACV,GAAIC,GAAgBrB,IAAIsB,YAAY,SAClBtB,KAAIsB,YAAY,OAElCtB,KAAIuB,cAAcb,QAChBC,IAAKC,EAAE,mBACPC,OACEW,KAAM,KACNtB,IAAK,SAGHsB,KAAM,UAGNA,KAAM,gBAIZxB,IAAIyB,aAAaf,QACfC,IAAKC,EAAE,gBACPC,KAAMhC,KACNiC,OAAQjB,cACR6B,aACEF,KAAMH,GAAiBA,EAAcM,qBAAuB,KAC5DC,SAAU,SAASC,GAClBC,QAAQC,IAAIF,GACX/B,UAAUc,EAAEoB,OAAOH,GACjBxB,YAAa,EACbC,SAAU1B,iBAYlBkB,WACEO,YAAa,EACbC,SAAU,MAIdM,EAAE,WACAZ,IAAIiC,MACFC,OAAQ","file":"ffan/code-refund-list.js","sourcesContent":["'use strict';\n// Constants\nvar PAGE_SIZE = 20;\nvar META = {\n  orderNum: { label: '交易单号' },\n  refundNum: { label: '退款单号' },\n  merchantName: { label: '商户名称' },\n  outlet: { label: '门店' },\n  PWID: { label: 'PWID' },\n  vipMobile: { label: '会员手机号' },\n  payAmount: { label: '支付金额(元)' },\n  refundAmount: { label: '退款金额(元)' },\n  refundStatus: { label: '退款状态' },\n  payChannel: { label: '支付渠道' },\n  fromInvoking: { label: '支付调用方' },\n  refundTime: { label: '退款发起时间', type: 'date-picker'}\n};\nvar TABLE_FIELDS = [\n  'refundTime', 'outlet/orderNum', 'merchantName/refundNum', 'vipMobile/PWID',\n  'payChannel/payAmount', 'refundStatus/refundAmount', 'fromInvoking'\n];\nvar FILTER_FIELDS = ['orderNum', 'vipMobile', 'refundTime'];\n\nvar queryData = function (options) {\n  WUI.ajax({\n    url: '/ams/v1/payment/query/paymentCodeRefundOrder',\n    jsonData: {\n      refundNum: options.refundNum || '',\n      orderNum: options.orderNum || '',\n      vipMobile: options.vipMobile || '',\n      refundTime: options.refundTime || '',\n      pageNum: options.currentPage,\n      pageSize: options.pageSize\n    }\n  }).then(function (resp) {\n    WUI.DataTableEx.create({\n      $el: $('.data-table'),\n      meta: META,\n      fields: TABLE_FIELDS,\n      list: resp.paymentCodeRefundOrderList\n    });\n\n    WUI.DataPaginator.create({\n      $el: $('.data-paginator'),\n      currentPage: options.currentPage,\n      total: resp.total,\n      pageSize: options.pageSize,\n      onSwitchPage: function (currentPage) {\n        queryData({\n          currentPage: currentPage,\n          pageSize: options.pageSize\n        });\n      }\n    });\n  });\n};\n// Load Page\nWUI.ready = function () {\n  var queryResource = WUI.getResource('/query');\n  var addResource = WUI.getResource('/add');\n\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '首页',\n      url: '/ams'\n    },\n      {\n        name: '飞凡通业务'\n      },\n      {\n        name: '付款码退款订单查询'\n      }]\n  });\n\n  WUI.DataFilterEx.create({\n    $el: $('.data-filter'),\n    meta: META,\n    fields: FILTER_FIELDS,\n    rightButton: {\n      name: queryResource && queryResource.resourceDisplayName || '查询',\n      callback: function(param) {\n       console.log(param);\n        queryData($.extend(param, {\n          currentPage: 0,\n          pageSize: PAGE_SIZE\n        }));\n      }\n    },\n    //leftButton: {\n    //  name: '导出Excel',\n    //  callback: function(param) {\n    //\n    //  }\n    //}\n  });\n\n  queryData({\n    currentPage: 0,\n    pageSize: 20\n  });\n}\n  // Keep this function\n$(function () {\n  WUI.init({\n    system: 'ams'\n  });\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmZmFuL2NvZGUtcmVmdW5kLWxpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gQ29uc3RhbnRzXG52YXIgUEFHRV9TSVpFID0gMjA7XG52YXIgTUVUQSA9IHtcbiAgb3JkZXJOdW06IHsgbGFiZWw6ICfkuqTmmJPljZXlj7cnIH0sXG4gIHJlZnVuZE51bTogeyBsYWJlbDogJ+mAgOasvuWNleWPtycgfSxcbiAgbWVyY2hhbnROYW1lOiB7IGxhYmVsOiAn5ZWG5oi35ZCN56ewJyB9LFxuICBvdXRsZXQ6IHsgbGFiZWw6ICfpl6jlupcnIH0sXG4gIFBXSUQ6IHsgbGFiZWw6ICdQV0lEJyB9LFxuICB2aXBNb2JpbGU6IHsgbGFiZWw6ICfkvJrlkZjmiYvmnLrlj7cnIH0sXG4gIHBheUFtb3VudDogeyBsYWJlbDogJ+aUr+S7mOmHkeminSjlhYMpJyB9LFxuICByZWZ1bmRBbW91bnQ6IHsgbGFiZWw6ICfpgIDmrL7ph5Hpop0o5YWDKScgfSxcbiAgcmVmdW5kU3RhdHVzOiB7IGxhYmVsOiAn6YCA5qy+54q25oCBJyB9LFxuICBwYXlDaGFubmVsOiB7IGxhYmVsOiAn5pSv5LuY5rig6YGTJyB9LFxuICBmcm9tSW52b2tpbmc6IHsgbGFiZWw6ICfmlK/ku5josIPnlKjmlrknIH0sXG4gIHJlZnVuZFRpbWU6IHsgbGFiZWw6ICfpgIDmrL7lj5Hotbfml7bpl7QnLCB0eXBlOiAnZGF0ZS1waWNrZXInfVxufTtcbnZhciBUQUJMRV9GSUVMRFMgPSBbXG4gICdyZWZ1bmRUaW1lJywgJ291dGxldC9vcmRlck51bScsICdtZXJjaGFudE5hbWUvcmVmdW5kTnVtJywgJ3ZpcE1vYmlsZS9QV0lEJyxcbiAgJ3BheUNoYW5uZWwvcGF5QW1vdW50JywgJ3JlZnVuZFN0YXR1cy9yZWZ1bmRBbW91bnQnLCAnZnJvbUludm9raW5nJ1xuXTtcbnZhciBGSUxURVJfRklFTERTID0gWydvcmRlck51bScsICd2aXBNb2JpbGUnLCAncmVmdW5kVGltZSddO1xuXG52YXIgcXVlcnlEYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgV1VJLmFqYXgoe1xuICAgIHVybDogJy9hbXMvdjEvcGF5bWVudC9xdWVyeS9wYXltZW50Q29kZVJlZnVuZE9yZGVyJyxcbiAgICBqc29uRGF0YToge1xuICAgICAgcmVmdW5kTnVtOiBvcHRpb25zLnJlZnVuZE51bSB8fCAnJyxcbiAgICAgIG9yZGVyTnVtOiBvcHRpb25zLm9yZGVyTnVtIHx8ICcnLFxuICAgICAgdmlwTW9iaWxlOiBvcHRpb25zLnZpcE1vYmlsZSB8fCAnJyxcbiAgICAgIHJlZnVuZFRpbWU6IG9wdGlvbnMucmVmdW5kVGltZSB8fCAnJyxcbiAgICAgIHBhZ2VOdW06IG9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZVxuICAgIH1cbiAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIFdVSS5EYXRhVGFibGVFeC5jcmVhdGUoe1xuICAgICAgJGVsOiAkKCcuZGF0YS10YWJsZScpLFxuICAgICAgbWV0YTogTUVUQSxcbiAgICAgIGZpZWxkczogVEFCTEVfRklFTERTLFxuICAgICAgbGlzdDogcmVzcC5wYXltZW50Q29kZVJlZnVuZE9yZGVyTGlzdFxuICAgIH0pO1xuXG4gICAgV1VJLkRhdGFQYWdpbmF0b3IuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLmRhdGEtcGFnaW5hdG9yJyksXG4gICAgICBjdXJyZW50UGFnZTogb3B0aW9ucy5jdXJyZW50UGFnZSxcbiAgICAgIHRvdGFsOiByZXNwLnRvdGFsLFxuICAgICAgcGFnZVNpemU6IG9wdGlvbnMucGFnZVNpemUsXG4gICAgICBvblN3aXRjaFBhZ2U6IGZ1bmN0aW9uIChjdXJyZW50UGFnZSkge1xuICAgICAgICBxdWVyeURhdGEoe1xuICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuLy8gTG9hZCBQYWdlXG5XVUkucmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBxdWVyeVJlc291cmNlID0gV1VJLmdldFJlc291cmNlKCcvcXVlcnknKTtcbiAgdmFyIGFkZFJlc291cmNlID0gV1VJLmdldFJlc291cmNlKCcvYWRkJyk7XG5cbiAgV1VJLkNvbnRlbnRIZWFkZXIuY3JlYXRlKHtcbiAgICAkZWw6ICQoJy5jb250ZW50LWhlYWRlcicpLFxuICAgIG1ldGE6IFt7XG4gICAgICBuYW1lOiAn6aaW6aG1JyxcbiAgICAgIHVybDogJy9hbXMnXG4gICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ+mjnuWHoemAmuS4muWKoSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfku5jmrL7noIHpgIDmrL7orqLljZXmn6Xor6InXG4gICAgICB9XVxuICB9KTtcblxuICBXVUkuRGF0YUZpbHRlckV4LmNyZWF0ZSh7XG4gICAgJGVsOiAkKCcuZGF0YS1maWx0ZXInKSxcbiAgICBtZXRhOiBNRVRBLFxuICAgIGZpZWxkczogRklMVEVSX0ZJRUxEUyxcbiAgICByaWdodEJ1dHRvbjoge1xuICAgICAgbmFtZTogcXVlcnlSZXNvdXJjZSAmJiBxdWVyeVJlc291cmNlLnJlc291cmNlRGlzcGxheU5hbWUgfHwgJ+afpeivoicsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24ocGFyYW0pIHtcbiAgICAgICBjb25zb2xlLmxvZyhwYXJhbSk7XG4gICAgICAgIHF1ZXJ5RGF0YSgkLmV4dGVuZChwYXJhbSwge1xuICAgICAgICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgICAgICAgIHBhZ2VTaXplOiBQQUdFX1NJWkVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy9sZWZ0QnV0dG9uOiB7XG4gICAgLy8gIG5hbWU6ICflr7zlh7pFeGNlbCcsXG4gICAgLy8gIGNhbGxiYWNrOiBmdW5jdGlvbihwYXJhbSkge1xuICAgIC8vXG4gICAgLy8gIH1cbiAgICAvL31cbiAgfSk7XG5cbiAgcXVlcnlEYXRhKHtcbiAgICBjdXJyZW50UGFnZTogMCxcbiAgICBwYWdlU2l6ZTogMjBcbiAgfSk7XG59XG4gIC8vIEtlZXAgdGhpcyBmdW5jdGlvblxuJChmdW5jdGlvbiAoKSB7XG4gIFdVSS5pbml0KHtcbiAgICBzeXN0ZW06ICdhbXMnXG4gIH0pO1xufSk7XG4iXSwiZmlsZSI6ImZmYW4vY29kZS1yZWZ1bmQtbGlzdC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n"],"sourceRoot":"/source/"}