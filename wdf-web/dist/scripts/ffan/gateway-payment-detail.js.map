{"version":3,"sources":["ffan/gateway-payment-detail.js"],"names":["META","PWID","label","outOrderNum","payOrderNum","payOrderStatus","OrderCreateTime","OrderStatusChangeTime","isMerge","payInstruction","instructionStatus","ffanId","merchantName","vipMobile","instructionCreateTime","instructionStatusChangeTime","orderAmount","payAmount","payWay","payChannel","payChannelResponseNum","fromInvoking","outlet","businessDistrict","INFO_FIELDS","submitData","item","etag","console","log","TABLE_FIELDS","FILTER_FIELDS","editData","window","location","href","id","queryData","options","WUI","getResource","ajax","url","jsonData","link","payId","pageNum","currentPage","pageSize","then","resp","DataTable","create","$el","$","meta","operateTime","operateSource","operateDesc","orderStatus","remark","fields","list","orderStatusLogList","DataPaginator","total","onSwitchPage","ready","ContentHeader","name","done","data","InfoTable","payGatewayOrderDetail","init","system"],"mappings":"AAAA,YAEA,IAAIA,OACFC,MAAQC,MAAO,QACfC,aAAeD,MAAO,SACtBE,aAAeF,MAAO,SACtBG,gBAAkBH,MAAO,UACzBI,iBAAmBJ,MAAO,YAC1BK,uBAAyBL,MAAO,cAChCM,SAAWN,MAAO,UAClBO,gBAAkBP,MAAO,SACzBQ,mBAAqBR,MAAO,UAC5BS,QAAUT,MAAO,UACjBU,cAAgBV,MAAO,MACvBW,WAAaX,MAAO,SACpBY,uBAAyBZ,MAAO,YAChCa,6BAA+Bb,MAAO,cACtCc,aAAed,MAAO,WACtBe,WAAaf,MAAO,WACpBgB,QAAUhB,MAAO,QACjBiB,YAAcjB,MAAO,QACrBkB,uBAAyBlB,MAAO,WAChCmB,cAAgBnB,MAAO,SACvBoB,QAAUpB,MAAO,MACjBqB,kBAAoBrB,MAAO,OAEzBsB,cACA,OAAQ,SAAU,cAClB,cAAe,cAAe,iBAAkB,SAChD,cAAe,aAAc,YAAa,UAC1C,wBAAyB,8BAA+B,iBAAkB,wBAC1E,oBAAqB,eAAgB,mBAAoB,SACzD,iBAGAC,WAAa,SAAUC,EAAMC,GAiB/BC,QAAQC,IAAI,YAEVC,cAAgB,KAAM,OAAQ,QAAS,OACvCC,eAAiB,SAEjBC,SAAW,SAAUN,GAEvBO,OAAOC,SAASC,KAAO,4BAA8BT,EAAKU,IAGxDC,UAAY,SAAUC,GACLC,IAAIC,YAAY,QAEnCD,KAAIE,MACFC,IAAK,qCACLC,UACElC,eAAiB8B,IAAIK,OAAOC,MAC5BzC,YAAamC,IAAIK,OAAOR,GACxBU,QAASR,EAAQS,YACjBC,SAAUV,EAAQU,YAEnBC,KAAK,SAAUC,GAChBX,IAAIY,UAAUC,QACZC,IAAKC,EAAE,eACPC,MACEC,aAAetD,MAAO,QACtBuD,eAAiBvD,MAAO,OACxBwD,aAAexD,MAAO,QACtByD,aAAezD,MAAO,QACtB0D,QAAU1D,MAAO,OAEnB2D,QAAS,cAAe,gBAAiB,cAAe,cAAe,UACvEC,KAAMZ,EAAKa,qBAGbxB,IAAIyB,cAAcZ,QAChBC,IAAKC,EAAE,mBACPP,YAAaT,EAAQS,YACrBkB,MAAOf,EAAKe,MACZjB,SAAUV,EAAQU,SAClBkB,aAAc,SAAUnB,GACtBV,WACEU,YAAaA,EACbC,SAAUV,EAAQU,gBAO5BT,KAAI4B,MAAQ,WACV5B,IAAI6B,cAAchB,QAChBC,IAAKC,EAAE,mBACPC,OACEc,KAAM,KACN3B,IAAK,SAEL2B,KAAM,UAGJA,KAAM,aACN3B,IAAI,8BAGJ2B,KAAM,aAIZ9B,IAAIE,MACFC,IAAK,8CACLC,UACElC,eAAiB8B,IAAIK,OAAOC,MAC5BzC,YAAamC,IAAIK,OAAOR,MAEzBkC,KAAK,SAAUpB,GACLA,EAAKqB,KACGhC,IAAIC,YAAY,QAEnCD,KAAIiC,UAAUpB,QACZC,IAAKC,EAAE,eACPC,KAAMvD,KACNuE,KAAMrB,EAAKuB,sBACXZ,OAAQrC,gBAKZa,WACEU,YAAa,EACbC,SAAU,MAIdM,EAAE,WACAf,IAAImC,MACFC,OAAQ","file":"ffan/gateway-payment-detail.js","sourcesContent":["'use strict';\n// Constants\nvar META = {\n  PWID: { label: 'PWID' },\n  outOrderNum: { label: '外部订单号' },\n  payOrderNum: { label: '支付订单号' },\n  payOrderStatus: { label: '支付订单状态' },\n  OrderCreateTime: { label: '支付订单生成时间' },\n  OrderStatusChangeTime: { label: '支付订单状态变更时间' },\n  isMerge: { label: '是否合并支付' },\n  payInstruction: { label: '支付指令号' },\n  instructionStatus: { label: '支付指令状态' },\n  ffanId: { label: '飞凡会员ID' },\n  merchantName: { label: '商户' },\n  vipMobile: { label: '会员手机号' },\n  instructionCreateTime: { label: '支付指令生成时间' },\n  instructionStatusChangeTime: { label: '支付指令状态变更时间' },\n  orderAmount: { label: '订单金额(元)' },\n  payAmount: { label: '支付金额(元)' },\n  payWay: { label: '支付方式' },\n  payChannel: { label: '支付渠道' },\n  payChannelResponseNum: { label: '支付渠道响应号' },\n  fromInvoking: { label: '支付调用方' },\n  outlet: { label: '门店' },\n  businessDistrict: { label: '商圈' }\n};\nvar INFO_FIELDS = [\n  [ 'PWID', 'ffanId', 'vipMobile' ],\n  [ 'payOrderNum', 'outOrderNum', 'payOrderStatus', 'payWay',\n    'orderAmount', 'payChannel', 'payAmount', 'isMerge',\n    'instructionCreateTime', 'instructionStatusChangeTime', 'payInstruction', 'instructionCreateTime',\n    'instructionStatus', 'fromInvoking', 'businessDistrict', 'outlet',\n    'merchantName']\n];\n// Callback Functions\nvar submitData = function (item, etag) {\n  //WUI.ajax({\n  //  url: '/sample/web/v1/users/' + WUI.link().id,\n  //  jsonData: $.extend(item, {\n  //    _etag: etag\n  //  })\n  //}).done(function () {\n  //  WUI.alert.create({\n  //    message: '成功',\n  //    success: true\n  //  });\n  //  /**\n  //  setTimeout(function() {\n  //    window.close();\n  //  }, 2000);\n  //  */\n  //});\n  console.log('2132131');\n};\nvar TABLE_FIELDS = ['id', 'name', 'email', 'age'];\nvar FILTER_FIELDS = ['phone'];\n// Callback functions\nvar editData = function (item) {\n  // window.open('allowance-detail.html?id=' + item.id);\n  window.location.href = 'allowance-detail.html?id=' + item.id;\n};\n\nvar queryData = function (options) {\n  var editResource = WUI.getResource('/edit');\n\n  WUI.ajax({\n    url: '/ams/v1/payment/query/orderLogList',\n    jsonData: {\n      payInstruction : WUI.link().payId,\n      payOrderNum: WUI.link().id,\n      pageNum: options.currentPage,\n      pageSize: options.pageSize\n    }\n  }).then(function (resp) {\n    WUI.DataTable.create({\n      $el: $('.data-table'),\n      meta: {\n        operateTime: { label: '操作时间' },\n        operateSource: { label: '操作方' },\n        operateDesc: { label: '操作行为' },\n        orderStatus: { label: '订单状态' },\n        remark: { label: '备注' }\n      },\n      fields: ['operateTime', 'operateSource', 'operateDesc', 'orderStatus', 'remark'],\n      list: resp.orderStatusLogList\n    });\n\n    WUI.DataPaginator.create({\n      $el: $('.data-paginator'),\n      currentPage: options.currentPage,\n      total: resp.total,\n      pageSize: options.pageSize,\n      onSwitchPage: function (currentPage) {\n        queryData({\n          currentPage: currentPage,\n          pageSize: options.pageSize\n        });\n      }\n    });\n  });\n};\n// Load Page\nWUI.ready = function () {\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '首页',\n      url: '/ams'\n    }, {\n      name: '飞凡通业务'\n    },\n      {\n        name: '支付网关支付订单查询',\n        url:'gateway-payment-list.html'\n      },\n      {\n        name: '支付订单详情'\n      }]\n  });\n\n  WUI.ajax({\n    url: '/ams/v1/payment/query/payGatewayOrderDetail',\n    jsonData: {\n      payInstruction : WUI.link().payId,\n      payOrderNum: WUI.link().id\n    }\n  }).done(function (resp) {\n    var user = resp.data;\n    var editResource = WUI.getResource('/edit');\n\n    WUI.InfoTable.create({\n      $el: $('.info-table'),\n      meta: META,\n      data: resp.payGatewayOrderDetail,\n      fields: INFO_FIELDS\n    });\n\n  });\n\n  queryData({\n    currentPage: 0,\n    pageSize: 20\n  });\n};\n// Keep this function\n$(function () {\n  WUI.init({\n    system: 'ams'\n  });\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmZmFuL2dhdGV3YXktcGF5bWVudC1kZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gQ29uc3RhbnRzXG52YXIgTUVUQSA9IHtcbiAgUFdJRDogeyBsYWJlbDogJ1BXSUQnIH0sXG4gIG91dE9yZGVyTnVtOiB7IGxhYmVsOiAn5aSW6YOo6K6i5Y2V5Y+3JyB9LFxuICBwYXlPcmRlck51bTogeyBsYWJlbDogJ+aUr+S7mOiuouWNleWPtycgfSxcbiAgcGF5T3JkZXJTdGF0dXM6IHsgbGFiZWw6ICfmlK/ku5jorqLljZXnirbmgIEnIH0sXG4gIE9yZGVyQ3JlYXRlVGltZTogeyBsYWJlbDogJ+aUr+S7mOiuouWNleeUn+aIkOaXtumXtCcgfSxcbiAgT3JkZXJTdGF0dXNDaGFuZ2VUaW1lOiB7IGxhYmVsOiAn5pSv5LuY6K6i5Y2V54q25oCB5Y+Y5pu05pe26Ze0JyB9LFxuICBpc01lcmdlOiB7IGxhYmVsOiAn5piv5ZCm5ZCI5bm25pSv5LuYJyB9LFxuICBwYXlJbnN0cnVjdGlvbjogeyBsYWJlbDogJ+aUr+S7mOaMh+S7pOWPtycgfSxcbiAgaW5zdHJ1Y3Rpb25TdGF0dXM6IHsgbGFiZWw6ICfmlK/ku5jmjIfku6TnirbmgIEnIH0sXG4gIGZmYW5JZDogeyBsYWJlbDogJ+mjnuWHoeS8muWRmElEJyB9LFxuICBtZXJjaGFudE5hbWU6IHsgbGFiZWw6ICfllYbmiLcnIH0sXG4gIHZpcE1vYmlsZTogeyBsYWJlbDogJ+S8muWRmOaJi+acuuWPtycgfSxcbiAgaW5zdHJ1Y3Rpb25DcmVhdGVUaW1lOiB7IGxhYmVsOiAn5pSv5LuY5oyH5Luk55Sf5oiQ5pe26Ze0JyB9LFxuICBpbnN0cnVjdGlvblN0YXR1c0NoYW5nZVRpbWU6IHsgbGFiZWw6ICfmlK/ku5jmjIfku6TnirbmgIHlj5jmm7Tml7bpl7QnIH0sXG4gIG9yZGVyQW1vdW50OiB7IGxhYmVsOiAn6K6i5Y2V6YeR6aKdKOWFgyknIH0sXG4gIHBheUFtb3VudDogeyBsYWJlbDogJ+aUr+S7mOmHkeminSjlhYMpJyB9LFxuICBwYXlXYXk6IHsgbGFiZWw6ICfmlK/ku5jmlrnlvI8nIH0sXG4gIHBheUNoYW5uZWw6IHsgbGFiZWw6ICfmlK/ku5jmuKDpgZMnIH0sXG4gIHBheUNoYW5uZWxSZXNwb25zZU51bTogeyBsYWJlbDogJ+aUr+S7mOa4oOmBk+WTjeW6lOWPtycgfSxcbiAgZnJvbUludm9raW5nOiB7IGxhYmVsOiAn5pSv5LuY6LCD55So5pa5JyB9LFxuICBvdXRsZXQ6IHsgbGFiZWw6ICfpl6jlupcnIH0sXG4gIGJ1c2luZXNzRGlzdHJpY3Q6IHsgbGFiZWw6ICfllYblnIgnIH1cbn07XG52YXIgSU5GT19GSUVMRFMgPSBbXG4gIFsgJ1BXSUQnLCAnZmZhbklkJywgJ3ZpcE1vYmlsZScgXSxcbiAgWyAncGF5T3JkZXJOdW0nLCAnb3V0T3JkZXJOdW0nLCAncGF5T3JkZXJTdGF0dXMnLCAncGF5V2F5JyxcbiAgICAnb3JkZXJBbW91bnQnLCAncGF5Q2hhbm5lbCcsICdwYXlBbW91bnQnLCAnaXNNZXJnZScsXG4gICAgJ2luc3RydWN0aW9uQ3JlYXRlVGltZScsICdpbnN0cnVjdGlvblN0YXR1c0NoYW5nZVRpbWUnLCAncGF5SW5zdHJ1Y3Rpb24nLCAnaW5zdHJ1Y3Rpb25DcmVhdGVUaW1lJyxcbiAgICAnaW5zdHJ1Y3Rpb25TdGF0dXMnLCAnZnJvbUludm9raW5nJywgJ2J1c2luZXNzRGlzdHJpY3QnLCAnb3V0bGV0JyxcbiAgICAnbWVyY2hhbnROYW1lJ11cbl07XG4vLyBDYWxsYmFjayBGdW5jdGlvbnNcbnZhciBzdWJtaXREYXRhID0gZnVuY3Rpb24gKGl0ZW0sIGV0YWcpIHtcbiAgLy9XVUkuYWpheCh7XG4gIC8vICB1cmw6ICcvc2FtcGxlL3dlYi92MS91c2Vycy8nICsgV1VJLmxpbmsoKS5pZCxcbiAgLy8gIGpzb25EYXRhOiAkLmV4dGVuZChpdGVtLCB7XG4gIC8vICAgIF9ldGFnOiBldGFnXG4gIC8vICB9KVxuICAvL30pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAvLyAgV1VJLmFsZXJ0LmNyZWF0ZSh7XG4gIC8vICAgIG1lc3NhZ2U6ICfmiJDlip8nLFxuICAvLyAgICBzdWNjZXNzOiB0cnVlXG4gIC8vICB9KTtcbiAgLy8gIC8qKlxuICAvLyAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgLy8gICAgd2luZG93LmNsb3NlKCk7XG4gIC8vICB9LCAyMDAwKTtcbiAgLy8gICovXG4gIC8vfSk7XG4gIGNvbnNvbGUubG9nKCcyMTMyMTMxJyk7XG59O1xudmFyIFRBQkxFX0ZJRUxEUyA9IFsnaWQnLCAnbmFtZScsICdlbWFpbCcsICdhZ2UnXTtcbnZhciBGSUxURVJfRklFTERTID0gWydwaG9uZSddO1xuLy8gQ2FsbGJhY2sgZnVuY3Rpb25zXG52YXIgZWRpdERhdGEgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAvLyB3aW5kb3cub3BlbignYWxsb3dhbmNlLWRldGFpbC5odG1sP2lkPScgKyBpdGVtLmlkKTtcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnYWxsb3dhbmNlLWRldGFpbC5odG1sP2lkPScgKyBpdGVtLmlkO1xufTtcblxudmFyIHF1ZXJ5RGF0YSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIHZhciBlZGl0UmVzb3VyY2UgPSBXVUkuZ2V0UmVzb3VyY2UoJy9lZGl0Jyk7XG5cbiAgV1VJLmFqYXgoe1xuICAgIHVybDogJy9hbXMvdjEvcGF5bWVudC9xdWVyeS9vcmRlckxvZ0xpc3QnLFxuICAgIGpzb25EYXRhOiB7XG4gICAgICBwYXlJbnN0cnVjdGlvbiA6IFdVSS5saW5rKCkucGF5SWQsXG4gICAgICBwYXlPcmRlck51bTogV1VJLmxpbmsoKS5pZCxcbiAgICAgIHBhZ2VOdW06IG9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZVxuICAgIH1cbiAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIFdVSS5EYXRhVGFibGUuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLmRhdGEtdGFibGUnKSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgb3BlcmF0ZVRpbWU6IHsgbGFiZWw6ICfmk43kvZzml7bpl7QnIH0sXG4gICAgICAgIG9wZXJhdGVTb3VyY2U6IHsgbGFiZWw6ICfmk43kvZzmlrknIH0sXG4gICAgICAgIG9wZXJhdGVEZXNjOiB7IGxhYmVsOiAn5pON5L2c6KGM5Li6JyB9LFxuICAgICAgICBvcmRlclN0YXR1czogeyBsYWJlbDogJ+iuouWNleeKtuaAgScgfSxcbiAgICAgICAgcmVtYXJrOiB7IGxhYmVsOiAn5aSH5rOoJyB9XG4gICAgICB9LFxuICAgICAgZmllbGRzOiBbJ29wZXJhdGVUaW1lJywgJ29wZXJhdGVTb3VyY2UnLCAnb3BlcmF0ZURlc2MnLCAnb3JkZXJTdGF0dXMnLCAncmVtYXJrJ10sXG4gICAgICBsaXN0OiByZXNwLm9yZGVyU3RhdHVzTG9nTGlzdFxuICAgIH0pO1xuXG4gICAgV1VJLkRhdGFQYWdpbmF0b3IuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLmRhdGEtcGFnaW5hdG9yJyksXG4gICAgICBjdXJyZW50UGFnZTogb3B0aW9ucy5jdXJyZW50UGFnZSxcbiAgICAgIHRvdGFsOiByZXNwLnRvdGFsLFxuICAgICAgcGFnZVNpemU6IG9wdGlvbnMucGFnZVNpemUsXG4gICAgICBvblN3aXRjaFBhZ2U6IGZ1bmN0aW9uIChjdXJyZW50UGFnZSkge1xuICAgICAgICBxdWVyeURhdGEoe1xuICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuLy8gTG9hZCBQYWdlXG5XVUkucmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gIFdVSS5Db250ZW50SGVhZGVyLmNyZWF0ZSh7XG4gICAgJGVsOiAkKCcuY29udGVudC1oZWFkZXInKSxcbiAgICBtZXRhOiBbe1xuICAgICAgbmFtZTogJ+mmlumhtScsXG4gICAgICB1cmw6ICcvYW1zJ1xuICAgIH0sIHtcbiAgICAgIG5hbWU6ICfpo57lh6HpgJrkuJrliqEnXG4gICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ+aUr+S7mOe9keWFs+aUr+S7mOiuouWNleafpeivoicsXG4gICAgICAgIHVybDonZ2F0ZXdheS1wYXltZW50LWxpc3QuaHRtbCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfmlK/ku5jorqLljZXor6bmg4UnXG4gICAgICB9XVxuICB9KTtcblxuICBXVUkuYWpheCh7XG4gICAgdXJsOiAnL2Ftcy92MS9wYXltZW50L3F1ZXJ5L3BheUdhdGV3YXlPcmRlckRldGFpbCcsXG4gICAganNvbkRhdGE6IHtcbiAgICAgIHBheUluc3RydWN0aW9uIDogV1VJLmxpbmsoKS5wYXlJZCxcbiAgICAgIHBheU9yZGVyTnVtOiBXVUkubGluaygpLmlkXG4gICAgfVxuICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIHVzZXIgPSByZXNwLmRhdGE7XG4gICAgdmFyIGVkaXRSZXNvdXJjZSA9IFdVSS5nZXRSZXNvdXJjZSgnL2VkaXQnKTtcblxuICAgIFdVSS5JbmZvVGFibGUuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLmluZm8tdGFibGUnKSxcbiAgICAgIG1ldGE6IE1FVEEsXG4gICAgICBkYXRhOiByZXNwLnBheUdhdGV3YXlPcmRlckRldGFpbCxcbiAgICAgIGZpZWxkczogSU5GT19GSUVMRFNcbiAgICB9KTtcblxuICB9KTtcblxuICBxdWVyeURhdGEoe1xuICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgIHBhZ2VTaXplOiAyMFxuICB9KTtcbn07XG4vLyBLZWVwIHRoaXMgZnVuY3Rpb25cbiQoZnVuY3Rpb24gKCkge1xuICBXVUkuaW5pdCh7XG4gICAgc3lzdGVtOiAnYW1zJ1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJmZmFuL2dhdGV3YXktcGF5bWVudC1kZXRhaWwuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n"],"sourceRoot":"/source/"}