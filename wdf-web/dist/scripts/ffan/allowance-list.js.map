{"version":3,"sources":["ffan/allowance-list.js"],"names":["PAGE_SIZE","META","PWID","label","mobile","type","email","accountName","realNameLevel","accountResource","accountStatus","options","value","openTime","status","TABLE_FIELDS","FILTER_FIELDS","editData","item","window","location","href","queryData","editResource","WUI","getResource","console","log","currentPage","pageSize","ajax","url","jsonData","then","resp","DataTable","create","$el","$","meta","fields","list","memberList","operations","name","resourceDisplayName","callback","ready","queryResource","ContentHeader","DataFilterEx","rightButton","param","extend","init","system"],"mappings":"AAAA,YAEA,IAAIA,WAAY,GACZC,MACFC,MAAQC,MAAO,QACfC,QAAUD,MAAO,OAAQE,KAAM,SAC/BC,OAASH,MAAO,QAASE,KAAM,SAC/BE,aAAeJ,MAAO,MACtBK,eAAiBL,MAAO,QACxBM,iBAAmBN,MAAO,QAC1BO,eACEP,MAAO,KACPQ,UAEER,MAAM,KACNS,MAAM,MAGJT,MAAM,KACNS,MAAM,MAGNT,MAAM,KACNS,MAAM,MAGNT,MAAM,MACNS,MAAM,MAGNT,MAAM,KACNS,MAAM,MAGVP,KAAK,UAEPQ,UACEV,MAAO,QAETW,QACEX,MAAO,KACPE,KAAM,SACNM,UACER,MAAO,KACPS,MAAO,MAITG,cAAgB,OAAQ,SAAU,QAAS,cAAe,gBAAiB,kBAAmB,gBAAiB,YAC/GC,eAAiB,UAEjBC,SAAW,SAAUC,GAEvBC,OAAOC,SAASC,KAAO,4BAA8BH,EAAKhB,KAAK,UAAYgB,EAAKd,QAG9EkB,UAAY,SAAUX,GACxB,GAAIY,GAAeC,IAAIC,YAAY,UAEpCC,SAAQC,KACHC,YAAajB,EAAQiB,YACrBC,SAAUlB,EAAQkB,SAClBzB,OAAQO,EAAQP,SAGpBoB,IAAIM,MACFC,IAAK,wCACLC,UAGE5B,OAAQO,EAAQP,UAEjB6B,KAAK,SAAUC,GAChBV,IAAIW,UAAUC,QACZC,IAAKC,EAAE,eACPC,KAAMtC,KACNuC,OAAQzB,aACR0B,KAAMP,EAAKQ,WACXC,aACEC,KAAMrB,GAAgBA,EAAasB,oBACnCC,SAAU7B,eAmBlBO,KAAIuB,MAAQ,WACV,GAAIC,GAAgBxB,IAAIC,YAAY,SAClBD,KAAIC,YAAY,OAElCD,KAAIyB,cAAcb,QAChBC,IAAKC,EAAE,mBACPC,OACEK,KAAM,KACNb,IAAK,SAGHa,KAAM,UAGNA,KAAM,cAIZpB,IAAI0B,aAAad,QACfC,IAAKC,EAAE,gBACPC,KAAMtC,KACNuC,OAAQxB,cACRmC,aACEP,KAAMI,GAAiBA,EAAcH,qBAAuB,KAC5DC,SAAU,SAASM,GACjB9B,UAAUgB,EAAEe,OAAOD,GACjBxB,YAAa,EACbC,SAAU7B,kBAYpBsC,EAAE,WACAd,IAAI8B,MACFC,OAAQ","file":"ffan/allowance-list.js","sourcesContent":["'use strict';\n// Constants\nvar PAGE_SIZE = 20;\nvar META = {\n  PWID: { label: 'PWID'},\n  mobile: { label: '手机号码', type: 'phone'},\n  email: { label: 'Email', type: 'email' },\n  accountName: { label: '姓名' },\n  realNameLevel: { label: '实名等级' },\n  accountResource: { label: '开户来源' },\n  accountStatus: {\n    label: '状态',\n    options:[\n      {\n      label:'创建',\n      value:'0'\n      },\n      {\n        label:'正常',\n        value:'1'\n      },\n      {\n        label:'冻结',\n        value:'2'\n      },\n      {\n        label:'已合并',\n        value:'8'\n      },\n      {\n        label:'注销',\n        value:'9'\n      }\n    ],\n    type:'select'\n  },\n  openTime: {\n    label: '开户时间'\n  },\n  status: {\n    label: '状态',\n    type: 'select',\n    options: [{\n      label: '正常',\n      value: 0\n    }]\n  }\n};\nvar TABLE_FIELDS = ['PWID', 'mobile', 'email', 'accountName', 'realNameLevel', 'accountResource', 'accountStatus', 'openTime'];\nvar FILTER_FIELDS = ['mobile'];\n// Callback functions\nvar editData = function (item) {\n  // window.open('allowance-detail.html?id=' + item.id);\n  window.location.href = 'allowance-detail.html?id=' + item.PWID+'&phone=' + item.mobile;\n};\n\nvar queryData = function (options) {\n  var editResource = WUI.getResource('/detail');\n\n console.log( {\n      currentPage: options.currentPage,\n      pageSize: options.pageSize,\n      mobile: options.mobile\n    });\n\n  WUI.ajax({\n    url: '/ams/v1/pocketMoney/query/accountList',\n    jsonData: {\n      //pageNum: options.currentPage,\n      //pageSize: options.pageSize,\n      mobile: options.mobile\n    }\n  }).then(function (resp) {\n    WUI.DataTable.create({\n      $el: $('.data-table'),\n      meta: META,\n      fields: TABLE_FIELDS,\n      list: resp.memberList,\n      operations: [{\n        name: editResource && editResource.resourceDisplayName,\n        callback: editData\n      }]\n    });\n\n    //WUI.DataPaginator.create({\n    //  $el: $('.data-paginator'),\n    //  currentPage: options.currentPage,\n    //  total: resp.total,\n    //  pageSize: options.pageSize,\n    //  onSwitchPage: function (currentPage) {\n    //    queryData({\n    //      currentPage: currentPage,\n    //      pageSize: options.pageSize\n    //    });\n    //  }\n    //});\n  });\n};\n// Load Page\nWUI.ready = function () {\n  var queryResource = WUI.getResource('/query');\n  var addResource = WUI.getResource('/add');\n\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '首页',\n      url: '/ams'\n    },\n      {\n        name: '飞凡通业务'\n      },\n      {\n        name: '飞凡通账户查询'\n      }]\n  });\n\n  WUI.DataFilterEx.create({\n    $el: $('.data-filter'),\n    meta: META,\n    fields: FILTER_FIELDS,\n    rightButton: {\n      name: queryResource && queryResource.resourceDisplayName || '查询',\n      callback: function(param) {\n        queryData($.extend(param, {\n          currentPage: 0,\n          pageSize: PAGE_SIZE\n        }));\n      }\n    }\n  });\n\n  //queryData({\n  //  currentPage: 0,\n  //  pageSize: 20\n  //});\n}\n  // Keep this function\n$(function () {\n  WUI.init({\n    system: 'ams'\n  });\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmZmFuL2FsbG93YW5jZS1saXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIENvbnN0YW50c1xudmFyIFBBR0VfU0laRSA9IDIwO1xudmFyIE1FVEEgPSB7XG4gIFBXSUQ6IHsgbGFiZWw6ICdQV0lEJ30sXG4gIG1vYmlsZTogeyBsYWJlbDogJ+aJi+acuuWPt+eggScsIHR5cGU6ICdwaG9uZSd9LFxuICBlbWFpbDogeyBsYWJlbDogJ0VtYWlsJywgdHlwZTogJ2VtYWlsJyB9LFxuICBhY2NvdW50TmFtZTogeyBsYWJlbDogJ+Wnk+WQjScgfSxcbiAgcmVhbE5hbWVMZXZlbDogeyBsYWJlbDogJ+WunuWQjeetiee6pycgfSxcbiAgYWNjb3VudFJlc291cmNlOiB7IGxhYmVsOiAn5byA5oi35p2l5rqQJyB9LFxuICBhY2NvdW50U3RhdHVzOiB7XG4gICAgbGFiZWw6ICfnirbmgIEnLFxuICAgIG9wdGlvbnM6W1xuICAgICAge1xuICAgICAgbGFiZWw6J+WIm+W7uicsXG4gICAgICB2YWx1ZTonMCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOifmraPluLgnLFxuICAgICAgICB2YWx1ZTonMSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiflhrvnu5MnLFxuICAgICAgICB2YWx1ZTonMidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiflt7LlkIjlubYnLFxuICAgICAgICB2YWx1ZTonOCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOifms6jplIAnLFxuICAgICAgICB2YWx1ZTonOSdcbiAgICAgIH1cbiAgICBdLFxuICAgIHR5cGU6J3NlbGVjdCdcbiAgfSxcbiAgb3BlblRpbWU6IHtcbiAgICBsYWJlbDogJ+W8gOaIt+aXtumXtCdcbiAgfSxcbiAgc3RhdHVzOiB7XG4gICAgbGFiZWw6ICfnirbmgIEnLFxuICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgIG9wdGlvbnM6IFt7XG4gICAgICBsYWJlbDogJ+ato+W4uCcsXG4gICAgICB2YWx1ZTogMFxuICAgIH1dXG4gIH1cbn07XG52YXIgVEFCTEVfRklFTERTID0gWydQV0lEJywgJ21vYmlsZScsICdlbWFpbCcsICdhY2NvdW50TmFtZScsICdyZWFsTmFtZUxldmVsJywgJ2FjY291bnRSZXNvdXJjZScsICdhY2NvdW50U3RhdHVzJywgJ29wZW5UaW1lJ107XG52YXIgRklMVEVSX0ZJRUxEUyA9IFsnbW9iaWxlJ107XG4vLyBDYWxsYmFjayBmdW5jdGlvbnNcbnZhciBlZGl0RGF0YSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIC8vIHdpbmRvdy5vcGVuKCdhbGxvd2FuY2UtZGV0YWlsLmh0bWw/aWQ9JyArIGl0ZW0uaWQpO1xuICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdhbGxvd2FuY2UtZGV0YWlsLmh0bWw/aWQ9JyArIGl0ZW0uUFdJRCsnJnBob25lPScgKyBpdGVtLm1vYmlsZTtcbn07XG5cbnZhciBxdWVyeURhdGEgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgZWRpdFJlc291cmNlID0gV1VJLmdldFJlc291cmNlKCcvZGV0YWlsJyk7XG5cbiBjb25zb2xlLmxvZygge1xuICAgICAgY3VycmVudFBhZ2U6IG9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZSxcbiAgICAgIG1vYmlsZTogb3B0aW9ucy5tb2JpbGVcbiAgICB9KTtcblxuICBXVUkuYWpheCh7XG4gICAgdXJsOiAnL2Ftcy92MS9wb2NrZXRNb25leS9xdWVyeS9hY2NvdW50TGlzdCcsXG4gICAganNvbkRhdGE6IHtcbiAgICAgIC8vcGFnZU51bTogb3B0aW9ucy5jdXJyZW50UGFnZSxcbiAgICAgIC8vcGFnZVNpemU6IG9wdGlvbnMucGFnZVNpemUsXG4gICAgICBtb2JpbGU6IG9wdGlvbnMubW9iaWxlXG4gICAgfVxuICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgV1VJLkRhdGFUYWJsZS5jcmVhdGUoe1xuICAgICAgJGVsOiAkKCcuZGF0YS10YWJsZScpLFxuICAgICAgbWV0YTogTUVUQSxcbiAgICAgIGZpZWxkczogVEFCTEVfRklFTERTLFxuICAgICAgbGlzdDogcmVzcC5tZW1iZXJMaXN0LFxuICAgICAgb3BlcmF0aW9uczogW3tcbiAgICAgICAgbmFtZTogZWRpdFJlc291cmNlICYmIGVkaXRSZXNvdXJjZS5yZXNvdXJjZURpc3BsYXlOYW1lLFxuICAgICAgICBjYWxsYmFjazogZWRpdERhdGFcbiAgICAgIH1dXG4gICAgfSk7XG5cbiAgICAvL1dVSS5EYXRhUGFnaW5hdG9yLmNyZWF0ZSh7XG4gICAgLy8gICRlbDogJCgnLmRhdGEtcGFnaW5hdG9yJyksXG4gICAgLy8gIGN1cnJlbnRQYWdlOiBvcHRpb25zLmN1cnJlbnRQYWdlLFxuICAgIC8vICB0b3RhbDogcmVzcC50b3RhbCxcbiAgICAvLyAgcGFnZVNpemU6IG9wdGlvbnMucGFnZVNpemUsXG4gICAgLy8gIG9uU3dpdGNoUGFnZTogZnVuY3Rpb24gKGN1cnJlbnRQYWdlKSB7XG4gICAgLy8gICAgcXVlcnlEYXRhKHtcbiAgICAvLyAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAvLyAgICAgIHBhZ2VTaXplOiBvcHRpb25zLnBhZ2VTaXplXG4gICAgLy8gICAgfSk7XG4gICAgLy8gIH1cbiAgICAvL30pO1xuICB9KTtcbn07XG4vLyBMb2FkIFBhZ2VcbldVSS5yZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHF1ZXJ5UmVzb3VyY2UgPSBXVUkuZ2V0UmVzb3VyY2UoJy9xdWVyeScpO1xuICB2YXIgYWRkUmVzb3VyY2UgPSBXVUkuZ2V0UmVzb3VyY2UoJy9hZGQnKTtcblxuICBXVUkuQ29udGVudEhlYWRlci5jcmVhdGUoe1xuICAgICRlbDogJCgnLmNvbnRlbnQtaGVhZGVyJyksXG4gICAgbWV0YTogW3tcbiAgICAgIG5hbWU6ICfpppbpobUnLFxuICAgICAgdXJsOiAnL2FtcydcbiAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAn6aOe5Yeh6YCa5Lia5YqhJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ+mjnuWHoemAmui0puaIt+afpeivoidcbiAgICAgIH1dXG4gIH0pO1xuXG4gIFdVSS5EYXRhRmlsdGVyRXguY3JlYXRlKHtcbiAgICAkZWw6ICQoJy5kYXRhLWZpbHRlcicpLFxuICAgIG1ldGE6IE1FVEEsXG4gICAgZmllbGRzOiBGSUxURVJfRklFTERTLFxuICAgIHJpZ2h0QnV0dG9uOiB7XG4gICAgICBuYW1lOiBxdWVyeVJlc291cmNlICYmIHF1ZXJ5UmVzb3VyY2UucmVzb3VyY2VEaXNwbGF5TmFtZSB8fCAn5p+l6K+iJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbihwYXJhbSkge1xuICAgICAgICBxdWVyeURhdGEoJC5leHRlbmQocGFyYW0sIHtcbiAgICAgICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgICAgICBwYWdlU2l6ZTogUEFHRV9TSVpFXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vcXVlcnlEYXRhKHtcbiAgLy8gIGN1cnJlbnRQYWdlOiAwLFxuICAvLyAgcGFnZVNpemU6IDIwXG4gIC8vfSk7XG59XG4gIC8vIEtlZXAgdGhpcyBmdW5jdGlvblxuJChmdW5jdGlvbiAoKSB7XG4gIFdVSS5pbml0KHtcbiAgICBzeXN0ZW06ICdhbXMnXG4gIH0pO1xufSk7XG4iXSwiZmlsZSI6ImZmYW4vYWxsb3dhbmNlLWxpc3QuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n"],"sourceRoot":"/source/"}