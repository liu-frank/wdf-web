var DOMAIN="",API={SMART_ROUT_INFO:DOMAIN+"/upp/web/v1/routes",SEARCH_SMART_ROUT:DOMAIN+"/upp/web/v1/feeRoute",SMART_ROUT:DOMAIN+"/upp/web/v1/route",STATIC_ROUT_INFO:DOMAIN+"/upp/web/v1/staticRoutes",STATIC_ROUT:DOMAIN+"/upp/web/v1/staticRoute",ALL_TYPE_INFO:DOMAIN+"/upp/web/v1/allCodetables",ROUT:DOMAIN+"/upp/web/v1/route",ACCOUNT_INFO:DOMAIN+"/upp/web/v1/accounts",CHANNEL_INFO:DOMAIN+"/upp/web/v1/channelAbilitys",CHANNEL_ITEM:DOMAIN+"/upp/web/v1/channelAbility",QUERY_INFO_CHANGE:DOMAIN+"/upp/web/v1/uppTodos",QUERY_ITEM_CHANNEL:DOMAIN+"/upp/web/v1/maintainDetail",QUERY_FEES_INFO:DOMAIN+"/upp/web/v1/channelFees",QUERY_FEE_ITEM:DOMAIN+"/upp/web/v1/channelFee",SAVE_CHANGE_INFO:DOMAIN+"/upp/web/v1/uppTodo"};API.DUMMY="",WUI.init=function(e){WUI.config=WUI.config||{},WUI.config.system=e.system,WUI.config.locale=e.locale||"zh-CN";var r=function(e){WUI.SiteHeader.create({$el:$(".main-header"),name:e.aasUserPrincipal.ssoUserName,roles:e.aasUserPrincipal.aasUserResources.roles?e.aasUserPrincipal.aasUserResources.roles[0].roleName:"",List:e.aasUserPrincipal.aasUserResources.resources,sso:e.aasUserPrincipal})},s=function(e){for(var r=[],s=0;s<e.length;s++){var a=e[s];"menu"===a.resourceType&&("0"===a.isLeaf&&(a.linkUrl="javascript:void(0);",a.subs=[]),r.push(a))}return r},a=function(e,r){var s=null;if(e.parentLevelStructure)for(var a=0;a<r.length;a++)if(r[a].levelStructure===e.parentLevelStructure){s=r[a];break}return s},n=function(e){var r=[],n=!1,i=e.aasUserPrincipal.aasUserResources.resources,t=window.location.href.indexOf(WUI.config.system+"/home.html")>=0;if("order"===WUI.config.system){n=!0;for(var o=s(i),u=0;u<o.length;u++){var c=o[u],l=a(c,o);!t&&window.location.href.indexOf(c.linkUr)>=0&&(c.isActive=!0),l?l.subs.push(c):r.push(c)}}else for(var p=0;p<i.length;p++){var U=i[p];if(U.linkUrl&&U.linkUrl.indexOf("trade-monitor")>0&&(U.newPage=!0),"menu"===U.resourceType){var v=U.linkUrl,I=window.location.href;!t&&I.indexOf(v)>=0?U.isActive=!0:v.indexOf("/ffan/")>=0&&window.location.href.indexOf("/ams")>=0&&(U.isActive=!0);var f=U.levelStructure.split(".");if("0"===f[1]){U.subs=[];for(var A=0;A<i.length;A++){var N=i[A];"menu"===N.resourceType&&N.levelStructure.split(".")[0]===U.levelStructure.split(".")[0]&&"0"===N.levelStructure.split(".")[2]&&"0"!=N.levelStructure.split(".")[1]&&(N.subs=[],N.isLeaf=!0,U.subs.push(N))}console.log("123",N),r.push(U)}}}$(".main-sidebar").replaceWith(WUI.templates["site-menu"]({menus:r,isHome:t,multiMenus:n}))},i="",t=function(e){$(".main-footer").replaceWith(WUI.templates["site-footer"](e))};WUI.getResource=function(e,r){var s=r?r:window.location.pathname;e=s+e;for(var a=0;a<i.length;a++){var n=i[a].linkUrl;if(e==n)var t=i[a]}return t};var o=function(){var e,s="/"+WUI.config.system+"/web/v1/sso/getResources";"ams"===WUI.config.system?s="/ams/v1/sso/getResources":"order"===WUI.config.system&&(s="/app-coe-ordercenter/ordercenter/v1/sso/getResources"),WUI.ajax({url:s,method:"POST",data:e}).done(function(e){WUI.config.userName=e.aasUserPrincipal.ssoUserName,r(e),n(e),t(e),i=e.aasUserPrincipal.aasUserResources.resources,$.AdminLTE.init(),WUI.ready()})};o(e)},WUI.ready=WUI.ready||function(){console.error("WUI: Please provide WUI.ready function.")},WUI.typeItem=function(e,r){var s=[];return r.map(function(r){r.codeType==e&&s.push(r)}),s};
//# sourceMappingURL=common.js.map
