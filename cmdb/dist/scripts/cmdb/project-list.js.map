{"version":3,"sources":["cmdb/project-list.js"],"names":["CMDB_API","queryDictionary","add","delete","update","column","query","export","import","META","label","required","maxLength","type","format","EDIT_FIELDS","selectAry","createData","item","$","each","i","e","j","options","length","select","WUI","ModalDialog","create","buttonHide","dataDialog","$el","dialogPop","meta","list","onConfirm","submitData","bind","fields","ready","ContentHeader","name","init","system"],"mappings":"AAAA,YAEA,IAAIA,WACFC,gBAAiB,uBACjBC,IAAK,kBACLC,SAAQ,sBACRC,OAAQ,qBACRC,OAAQ,sBACRC,MAAO,qBACPC,SAAQ,8BACRC,SAAQ,4BAEVC,MAAW,MAAMC,MAAO,UAAWC,UAAU,EAAMC,UAAU,IAC7DH,KAAiB,YAAMC,MAAO,OAAQG,KAAM,WAAYC,OAAQ,aAAcF,UAAW,GACzF,IAAIG,cAAe,OAAQ,OAAQ,UAAW,aAAc,SAAU,eAElEC,WAAa,UACbC,WAAa,SAAUC,GAEzBC,EAAEC,KAAKJ,UAAU,SAASK,EAAGC,GAC3B,IAAI,GAAIC,GAAE,EAAEA,EAAEd,KAAKa,GAAGE,QAAQC,OAAOF,IAC/Bd,KAAKa,GAAGE,QAAQD,GAAGb,OAASQ,EAAKI,GACnCb,KAAKa,GAAGE,QAAQD,GAAGG,QAAS,EAE5BjB,KAAKa,GAAGE,QAAQD,GAAGG,QAAS,IAKlCC,IAAIC,YAAYC,QACdC,YAAY,IAGdH,IAAII,WAAWF,QACbG,IAAKb,EAAE,eACPc,WAAU,EACVC,KAAMzB,KACN0B,KAAMjB,EACNY,YAAY,EACZM,UAAWC,WAAWC,KAAK,KAAMpB,GACjCqB,OAAQxB,cAKZY,KAAIa,MAAQ,WAEVvC,gBAAgB,WAGhB0B,IAAIc,cAAcZ,QAChBG,IAAKb,EAAE,mBACPe,OACEQ,KAAM,UAKZvB,EAAE,WACAQ,IAAIgB,MACFC,OAAQ","file":"project-list.js","sourcesContent":["'use strict';\n// Constants\nvar CMDB_API = {\n  queryDictionary: '/web/queryDictionary', // 数据字典\n  add: '/web/addProject', // 增\n  delete: '/web/deleteProjects', // 删\n  update: '/web/updateProject', // 改\n  column: '/web/project/column', // 查询条件\n  query: '/web/project/query', // 查\n  export: '/web/excel/download/project', // export\n  import: '/web/excel/upload/project' // import\n};\nMETA['code'] = { label: '应用_code', required: true, maxLength:30 };\nMETA['stock_time'] = { label: '上线时间', type: 'dateCmdb', format: 'yyyy-DD-MM', maxLength: 30 };\nvar EDIT_FIELDS = ['code', 'name', 'version', 'stock_time', 'insure', 'description'];\n\nvar selectAry = ['insure'];\nvar createData = function (item) {\n  // 初始化select\n  $.each(selectAry,function(i, e){\n    for(var j=0;j<META[e].options.length;j++){\n      if (META[e].options[j].label == item[e]) {\n        META[e].options[j].select = true;\n      } else {\n        META[e].options[j].select = false;\n      }\n    }\n  });\n\n  WUI.ModalDialog.create({\n    buttonHide: true,\n  });\n\n  WUI.dataDialog.create({\n    $el: $('.modal-body'),\n    dialogPop:true,\n    meta: META,\n    list: item,\n    buttonHide: false,\n    onConfirm: submitData.bind(null, item),\n    fields: EDIT_FIELDS\n  });\n};\n\n// Load Page\nWUI.ready = function () {\n  // meta的元素数据字典 => cloumn数据 => 查询数据\n  queryDictionary('project');\n\n  // 面包屑\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '应用'\n    }]\n  });\n}\n// Keep this function\n$(function () {\n  WUI.init({\n    system: 'cmdb'\n  });\n});\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjbWRiL3Byb2plY3QtbGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyBDb25zdGFudHNcbnZhciBDTURCX0FQSSA9IHtcbiAgcXVlcnlEaWN0aW9uYXJ5OiAnL3dlYi9xdWVyeURpY3Rpb25hcnknLCAvLyDmlbDmja7lrZflhbhcbiAgYWRkOiAnL3dlYi9hZGRQcm9qZWN0JywgLy8g5aKeXG4gIGRlbGV0ZTogJy93ZWIvZGVsZXRlUHJvamVjdHMnLCAvLyDliKBcbiAgdXBkYXRlOiAnL3dlYi91cGRhdGVQcm9qZWN0JywgLy8g5pS5XG4gIGNvbHVtbjogJy93ZWIvcHJvamVjdC9jb2x1bW4nLCAvLyDmn6Xor6LmnaHku7ZcbiAgcXVlcnk6ICcvd2ViL3Byb2plY3QvcXVlcnknLCAvLyDmn6VcbiAgZXhwb3J0OiAnL3dlYi9leGNlbC9kb3dubG9hZC9wcm9qZWN0JywgLy8gZXhwb3J0XG4gIGltcG9ydDogJy93ZWIvZXhjZWwvdXBsb2FkL3Byb2plY3QnIC8vIGltcG9ydFxufTtcbk1FVEFbJ2NvZGUnXSA9IHsgbGFiZWw6ICflupTnlKhfY29kZScsIHJlcXVpcmVkOiB0cnVlLCBtYXhMZW5ndGg6MzAgfTtcbk1FVEFbJ3N0b2NrX3RpbWUnXSA9IHsgbGFiZWw6ICfkuIrnur/ml7bpl7QnLCB0eXBlOiAnZGF0ZUNtZGInLCBmb3JtYXQ6ICd5eXl5LURELU1NJywgbWF4TGVuZ3RoOiAzMCB9O1xudmFyIEVESVRfRklFTERTID0gWydjb2RlJywgJ25hbWUnLCAndmVyc2lvbicsICdzdG9ja190aW1lJywgJ2luc3VyZScsICdkZXNjcmlwdGlvbiddO1xuXG52YXIgc2VsZWN0QXJ5ID0gWydpbnN1cmUnXTtcbnZhciBjcmVhdGVEYXRhID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgLy8g5Yid5aeL5YyWc2VsZWN0XG4gICQuZWFjaChzZWxlY3RBcnksZnVuY3Rpb24oaSwgZSl7XG4gICAgZm9yKHZhciBqPTA7ajxNRVRBW2VdLm9wdGlvbnMubGVuZ3RoO2orKyl7XG4gICAgICBpZiAoTUVUQVtlXS5vcHRpb25zW2pdLmxhYmVsID09IGl0ZW1bZV0pIHtcbiAgICAgICAgTUVUQVtlXS5vcHRpb25zW2pdLnNlbGVjdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBNRVRBW2VdLm9wdGlvbnNbal0uc2VsZWN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBXVUkuTW9kYWxEaWFsb2cuY3JlYXRlKHtcbiAgICBidXR0b25IaWRlOiB0cnVlLFxuICB9KTtcblxuICBXVUkuZGF0YURpYWxvZy5jcmVhdGUoe1xuICAgICRlbDogJCgnLm1vZGFsLWJvZHknKSxcbiAgICBkaWFsb2dQb3A6dHJ1ZSxcbiAgICBtZXRhOiBNRVRBLFxuICAgIGxpc3Q6IGl0ZW0sXG4gICAgYnV0dG9uSGlkZTogZmFsc2UsXG4gICAgb25Db25maXJtOiBzdWJtaXREYXRhLmJpbmQobnVsbCwgaXRlbSksXG4gICAgZmllbGRzOiBFRElUX0ZJRUxEU1xuICB9KTtcbn07XG5cbi8vIExvYWQgUGFnZVxuV1VJLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAvLyBtZXRh55qE5YWD57Sg5pWw5o2u5a2X5YW4ID0+IGNsb3VtbuaVsOaNriA9PiDmn6Xor6LmlbDmja5cbiAgcXVlcnlEaWN0aW9uYXJ5KCdwcm9qZWN0Jyk7XG5cbiAgLy8g6Z2i5YyF5bGRXG4gIFdVSS5Db250ZW50SGVhZGVyLmNyZWF0ZSh7XG4gICAgJGVsOiAkKCcuY29udGVudC1oZWFkZXInKSxcbiAgICBtZXRhOiBbe1xuICAgICAgbmFtZTogJ+W6lOeUqCdcbiAgICB9XVxuICB9KTtcbn1cbi8vIEtlZXAgdGhpcyBmdW5jdGlvblxuJChmdW5jdGlvbiAoKSB7XG4gIFdVSS5pbml0KHtcbiAgICBzeXN0ZW06ICdjbWRiJ1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJjbWRiL3Byb2plY3QtbGlzdC5qcyJ9\n"]}