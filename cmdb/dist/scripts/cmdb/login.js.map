{"version":3,"sources":["cmdb/login.js"],"names":["login","_username","$","trim","val","_password","text","hide","ajax","url","DOMAIN","CMDB","contentType","dataType","username","password","type","then","resp","console","log","expires_in","setCookie","access_token","token_type","window","location","href","fail","show","name","value","expires","path","domain","secure","today","Date","setTime","getTime","expires_date","document","cookie","escape","toGMTString","isPlaceholer","input","createElement","placeholderfriend","focus","s","prev","idValue","attr","replace","clsValue","form","this","elements","find","each","pValue","sValue","blur","elementsPass","i","html","outerHTML","after","next","placeholderfriendfocus","click","keyup","event","keyCode","jQuery","indexOf"],"mappings":"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","file":"login.js","sourcesContent":["(function($) {\n\tvar placeholderfriend = {\n\t\tfocus: function(s) {\n\t\t\ts = $(s).hide().prev().show().focus();\n\t\t\tvar idValue = s.attr(\"id\");\n\t\t\tif (idValue) {\n\t\t\t\ts.attr(\"id\", idValue.replace(\"placeholderfriend\", \"\"));\n\t\t\t}\n\t\t\tvar clsValue = s.attr(\"class\");\n\t\t\tif (clsValue) {\n\t\t\t\ts.attr(\"class\", clsValue.replace(\"placeholderfriend\", \"\"));\n\t\t\t}\n\t\t}\n\t}\n  //判断是否支持placeholder\n  function isPlaceholer() {\n  \tvar input = document.createElement('input');\n  \treturn \"placeholder\" in input;\n  }\n  //不支持的代码\n  if (!isPlaceholer()) {\n  \t$(function() {\n  \t\tvar form = $(this);\n      //遍历所有文本框，添加placeholder模拟事件\n      var elements = form.find(\"input[type='text'][placeholder]\");\n      elements.each(function() {\n      \tvar s = $(this);\n      \tvar pValue = s.attr(\"placeholder\");\n      \tvar sValue = s.val();\n      \tif (pValue) {\n      \t\tif (sValue == '') {\n      \t\t\ts.val(pValue);\n      \t\t}\n      \t}\n      });\n      elements.focus(function() {\n      \tvar s = $(this);\n      \tvar pValue = s.attr(\"placeholder\");\n      \tvar sValue = s.val();\n      \tif (sValue && pValue) {\n      \t\tif (sValue == pValue) {\n      \t\t\ts.val('');\n      \t\t}\n      \t}\n      });\n      elements.blur(function() {\n      \tvar s = $(this);\n      \tvar pValue = s.attr(\"placeholder\");\n      \tvar sValue = s.val();\n      \tif (!sValue) {\n      \t\ts.val(pValue);\n      \t}\n      });\n      //遍历所有密码框，添加placeholder模拟事件\n      var elementsPass = form.find(\"input[type='password'][placeholder]\");\n      elementsPass.each(function(i) {\n      \tvar s = $(this);\n      \tvar pValue = s.attr(\"placeholder\");\n      \tvar sValue = s.val();\n      \tif (pValue) {\n      \t\tif (sValue == '') {\n            //DOM不支持type的修改，需要复制密码框属性，生成新的DOM\n            var html = this.outerHTML || \"\";\n            html = html.replace(/\\s*type=(['\"])?password\\1/gi, \" type=text placeholderfriend\")\n            .replace(/\\s*(?:value|on[a-z]+|name)(=(['\"])?\\S*\\1)?/gi, \" \")\n            .replace(/\\s*placeholderfriend/, \" placeholderfriend value='\" + pValue\n            \t+ \"' \" + \"onfocus='placeholderfriendfocus(this);' \");\n            var idValue = s.attr(\"id\");\n            if (idValue) {\n            \ts.attr(\"id\", idValue + \"placeholderfriend\");\n            }\n            var clsValue = s.attr(\"class\");\n            if (clsValue) {\n            \ts.attr(\"class\", clsValue + \"placeholderfriend\");\n            }\n            s.hide();\n            s.after(html);\n          }\n        }\n      });\n      elementsPass.blur(function() {\n      \tvar s = $(this);\n      \tvar sValue = s.val();\n      \tif (sValue == '') {\n      \t\tvar idValue = s.attr(\"id\");\n      \t\tif (idValue) {\n      \t\t\ts.attr(\"id\", idValue + \"placeholderfriend\");\n      \t\t}\n      \t\tvar clsValue = s.attr(\"class\");\n      \t\tif (clsValue) {\n      \t\t\ts.attr(\"class\", clsValue + \"placeholderfriend\");\n      \t\t}\n      \t\ts.hide().next().show();\n      \t}\n      });\n    });\n  }\n  window.placeholderfriendfocus = placeholderfriend.focus;\n\n  $('.submit-button').click(function(){\n  \tlogin();\n  });\n\n  $(document).keyup(function(event){\n  \tif(event.keyCode ==13){\n  \t\tlogin();\n  \t}\n  });\n})(jQuery);\n\nvar DOMAIN = {\n\tCMDB : ''\n};\nif (window.location.href.indexOf('127.0.0.1') == 7) {\n\tDOMAIN['CMDB'] = 'http://cmdb.api.dev.wanda.com';\n}\n\nfunction login(){\n\tvar _username = $.trim($('#username-input').val());\n\tvar _password = $.trim($('#password-input').val());\n\n\tif(!_username){\n\t\t$('.error-message').text('帐号不能为空，请输入').show();\n\t}else if(!_password){\n\t\t$('.error-message').text('密码不能为空，请输入').show();\n\t}else{\n\t\t$('.error-message').text('').hide();\n\n\t\t$.ajax({\n\t\t\turl: DOMAIN.CMDB + '/oauth/token?grant_type=password&username=cmdb&password=cmdb',\n\t\t\tcontentType: \"application/json\",\n\t\t\tdataType: \"json\", \n\t\t\tusername: _username,\n\t\t\tpassword: _password,\n\t\t\ttype: \"POST\"\n\t\t}).then(function (resp) {\n\t\t\tconsole.log(resp.expires_in + 10);\n\t\t\tsetCookie('CMDB-TOKEN', resp.access_token, resp.expires_in + 10);\n\t\t\tsetCookie('CMDB-TOKEN-TYPE', resp.token_type, resp.expires_in + 10);\n\t\t\tsetCookie('CMDB-USERNAME', _username, resp.expires_in + 10);\n\t\t\twindow.location.href = '/cmdb/home.html';\n\t\t}).fail(function(resp){\n\t\t\t$('.error-message').text('帐号或密码不正确，请确认').show();\n\t\t});\n\t}\n}\n\nfunction setCookie( name, value, expires, path, domain, secure ) {\n\tvar today = new Date();\n\ttoday.setTime( today.getTime() );\n\tif ( expires ) {\n\t\texpires = expires * 1000;\n\t}\n\tvar expires_date = new Date( today.getTime() + (expires) );\n\tdocument.cookie = name+'='+escape( value ) +\n  ( ( expires ) ? ';expires='+expires_date.toGMTString() : '' ) + \n  ( ( path ) ? ';path=' + path : '' ) +\n  ( ( domain ) ? ';domain=' + domain : '' ) +\n  ( ( secure ) ? ';secure' : '' );\n}\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjbWRiL2xvZ2luLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKSB7XG5cdHZhciBwbGFjZWhvbGRlcmZyaWVuZCA9IHtcblx0XHRmb2N1czogZnVuY3Rpb24ocykge1xuXHRcdFx0cyA9ICQocykuaGlkZSgpLnByZXYoKS5zaG93KCkuZm9jdXMoKTtcblx0XHRcdHZhciBpZFZhbHVlID0gcy5hdHRyKFwiaWRcIik7XG5cdFx0XHRpZiAoaWRWYWx1ZSkge1xuXHRcdFx0XHRzLmF0dHIoXCJpZFwiLCBpZFZhbHVlLnJlcGxhY2UoXCJwbGFjZWhvbGRlcmZyaWVuZFwiLCBcIlwiKSk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY2xzVmFsdWUgPSBzLmF0dHIoXCJjbGFzc1wiKTtcblx0XHRcdGlmIChjbHNWYWx1ZSkge1xuXHRcdFx0XHRzLmF0dHIoXCJjbGFzc1wiLCBjbHNWYWx1ZS5yZXBsYWNlKFwicGxhY2Vob2xkZXJmcmllbmRcIiwgXCJcIikpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuICAvL+WIpOaWreaYr+WQpuaUr+aMgXBsYWNlaG9sZGVyXG4gIGZ1bmN0aW9uIGlzUGxhY2Vob2xlcigpIHtcbiAgXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBcdHJldHVybiBcInBsYWNlaG9sZGVyXCIgaW4gaW5wdXQ7XG4gIH1cbiAgLy/kuI3mlK/mjIHnmoTku6PnoIFcbiAgaWYgKCFpc1BsYWNlaG9sZXIoKSkge1xuICBcdCQoZnVuY3Rpb24oKSB7XG4gIFx0XHR2YXIgZm9ybSA9ICQodGhpcyk7XG4gICAgICAvL+mBjeWOhuaJgOacieaWh+acrOahhu+8jOa3u+WKoHBsYWNlaG9sZGVy5qih5ouf5LqL5Lu2XG4gICAgICB2YXIgZWxlbWVudHMgPSBmb3JtLmZpbmQoXCJpbnB1dFt0eXBlPSd0ZXh0J11bcGxhY2Vob2xkZXJdXCIpO1xuICAgICAgZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIFx0dmFyIHMgPSAkKHRoaXMpO1xuICAgICAgXHR2YXIgcFZhbHVlID0gcy5hdHRyKFwicGxhY2Vob2xkZXJcIik7XG4gICAgICBcdHZhciBzVmFsdWUgPSBzLnZhbCgpO1xuICAgICAgXHRpZiAocFZhbHVlKSB7XG4gICAgICBcdFx0aWYgKHNWYWx1ZSA9PSAnJykge1xuICAgICAgXHRcdFx0cy52YWwocFZhbHVlKTtcbiAgICAgIFx0XHR9XG4gICAgICBcdH1cbiAgICAgIH0pO1xuICAgICAgZWxlbWVudHMuZm9jdXMoZnVuY3Rpb24oKSB7XG4gICAgICBcdHZhciBzID0gJCh0aGlzKTtcbiAgICAgIFx0dmFyIHBWYWx1ZSA9IHMuYXR0cihcInBsYWNlaG9sZGVyXCIpO1xuICAgICAgXHR2YXIgc1ZhbHVlID0gcy52YWwoKTtcbiAgICAgIFx0aWYgKHNWYWx1ZSAmJiBwVmFsdWUpIHtcbiAgICAgIFx0XHRpZiAoc1ZhbHVlID09IHBWYWx1ZSkge1xuICAgICAgXHRcdFx0cy52YWwoJycpO1xuICAgICAgXHRcdH1cbiAgICAgIFx0fVxuICAgICAgfSk7XG4gICAgICBlbGVtZW50cy5ibHVyKGZ1bmN0aW9uKCkge1xuICAgICAgXHR2YXIgcyA9ICQodGhpcyk7XG4gICAgICBcdHZhciBwVmFsdWUgPSBzLmF0dHIoXCJwbGFjZWhvbGRlclwiKTtcbiAgICAgIFx0dmFyIHNWYWx1ZSA9IHMudmFsKCk7XG4gICAgICBcdGlmICghc1ZhbHVlKSB7XG4gICAgICBcdFx0cy52YWwocFZhbHVlKTtcbiAgICAgIFx0fVxuICAgICAgfSk7XG4gICAgICAvL+mBjeWOhuaJgOacieWvhueggeahhu+8jOa3u+WKoHBsYWNlaG9sZGVy5qih5ouf5LqL5Lu2XG4gICAgICB2YXIgZWxlbWVudHNQYXNzID0gZm9ybS5maW5kKFwiaW5wdXRbdHlwZT0ncGFzc3dvcmQnXVtwbGFjZWhvbGRlcl1cIik7XG4gICAgICBlbGVtZW50c1Bhc3MuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICBcdHZhciBzID0gJCh0aGlzKTtcbiAgICAgIFx0dmFyIHBWYWx1ZSA9IHMuYXR0cihcInBsYWNlaG9sZGVyXCIpO1xuICAgICAgXHR2YXIgc1ZhbHVlID0gcy52YWwoKTtcbiAgICAgIFx0aWYgKHBWYWx1ZSkge1xuICAgICAgXHRcdGlmIChzVmFsdWUgPT0gJycpIHtcbiAgICAgICAgICAgIC8vRE9N5LiN5pSv5oyBdHlwZeeahOS/ruaUue+8jOmcgOimgeWkjeWItuWvhueggeahhuWxnuaAp++8jOeUn+aIkOaWsOeahERPTVxuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLm91dGVySFRNTCB8fCBcIlwiO1xuICAgICAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvXFxzKnR5cGU9KFsnXCJdKT9wYXNzd29yZFxcMS9naSwgXCIgdHlwZT10ZXh0IHBsYWNlaG9sZGVyZnJpZW5kXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzKig/OnZhbHVlfG9uW2Etel0rfG5hbWUpKD0oWydcIl0pP1xcUypcXDEpPy9naSwgXCIgXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxzKnBsYWNlaG9sZGVyZnJpZW5kLywgXCIgcGxhY2Vob2xkZXJmcmllbmQgdmFsdWU9J1wiICsgcFZhbHVlXG4gICAgICAgICAgICBcdCsgXCInIFwiICsgXCJvbmZvY3VzPSdwbGFjZWhvbGRlcmZyaWVuZGZvY3VzKHRoaXMpOycgXCIpO1xuICAgICAgICAgICAgdmFyIGlkVmFsdWUgPSBzLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgICAgIGlmIChpZFZhbHVlKSB7XG4gICAgICAgICAgICBcdHMuYXR0cihcImlkXCIsIGlkVmFsdWUgKyBcInBsYWNlaG9sZGVyZnJpZW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNsc1ZhbHVlID0gcy5hdHRyKFwiY2xhc3NcIik7XG4gICAgICAgICAgICBpZiAoY2xzVmFsdWUpIHtcbiAgICAgICAgICAgIFx0cy5hdHRyKFwiY2xhc3NcIiwgY2xzVmFsdWUgKyBcInBsYWNlaG9sZGVyZnJpZW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcy5oaWRlKCk7XG4gICAgICAgICAgICBzLmFmdGVyKGh0bWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBlbGVtZW50c1Bhc3MuYmx1cihmdW5jdGlvbigpIHtcbiAgICAgIFx0dmFyIHMgPSAkKHRoaXMpO1xuICAgICAgXHR2YXIgc1ZhbHVlID0gcy52YWwoKTtcbiAgICAgIFx0aWYgKHNWYWx1ZSA9PSAnJykge1xuICAgICAgXHRcdHZhciBpZFZhbHVlID0gcy5hdHRyKFwiaWRcIik7XG4gICAgICBcdFx0aWYgKGlkVmFsdWUpIHtcbiAgICAgIFx0XHRcdHMuYXR0cihcImlkXCIsIGlkVmFsdWUgKyBcInBsYWNlaG9sZGVyZnJpZW5kXCIpO1xuICAgICAgXHRcdH1cbiAgICAgIFx0XHR2YXIgY2xzVmFsdWUgPSBzLmF0dHIoXCJjbGFzc1wiKTtcbiAgICAgIFx0XHRpZiAoY2xzVmFsdWUpIHtcbiAgICAgIFx0XHRcdHMuYXR0cihcImNsYXNzXCIsIGNsc1ZhbHVlICsgXCJwbGFjZWhvbGRlcmZyaWVuZFwiKTtcbiAgICAgIFx0XHR9XG4gICAgICBcdFx0cy5oaWRlKCkubmV4dCgpLnNob3coKTtcbiAgICAgIFx0fVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgd2luZG93LnBsYWNlaG9sZGVyZnJpZW5kZm9jdXMgPSBwbGFjZWhvbGRlcmZyaWVuZC5mb2N1cztcblxuICAkKCcuc3VibWl0LWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gIFx0bG9naW4oKTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24oZXZlbnQpe1xuICBcdGlmKGV2ZW50LmtleUNvZGUgPT0xMyl7XG4gIFx0XHRsb2dpbigpO1xuICBcdH1cbiAgfSk7XG59KShqUXVlcnkpO1xuXG52YXIgRE9NQUlOID0ge1xuXHRDTURCIDogJydcbn07XG5pZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignMTI3LjAuMC4xJykgPT0gNykge1xuXHRET01BSU5bJ0NNREInXSA9ICdodHRwOi8vY21kYi5hcGkuZGV2LndhbmRhLmNvbSc7XG59XG5cbmZ1bmN0aW9uIGxvZ2luKCl7XG5cdHZhciBfdXNlcm5hbWUgPSAkLnRyaW0oJCgnI3VzZXJuYW1lLWlucHV0JykudmFsKCkpO1xuXHR2YXIgX3Bhc3N3b3JkID0gJC50cmltKCQoJyNwYXNzd29yZC1pbnB1dCcpLnZhbCgpKTtcblxuXHRpZighX3VzZXJuYW1lKXtcblx0XHQkKCcuZXJyb3ItbWVzc2FnZScpLnRleHQoJ+W4kOWPt+S4jeiDveS4uuepuu+8jOivt+i+k+WFpScpLnNob3coKTtcblx0fWVsc2UgaWYoIV9wYXNzd29yZCl7XG5cdFx0JCgnLmVycm9yLW1lc3NhZ2UnKS50ZXh0KCflr4bnoIHkuI3og73kuLrnqbrvvIzor7fovpPlhaUnKS5zaG93KCk7XG5cdH1lbHNle1xuXHRcdCQoJy5lcnJvci1tZXNzYWdlJykudGV4dCgnJykuaGlkZSgpO1xuXG5cdFx0JC5hamF4KHtcblx0XHRcdHVybDogRE9NQUlOLkNNREIgKyAnL29hdXRoL3Rva2VuP2dyYW50X3R5cGU9cGFzc3dvcmQmdXNlcm5hbWU9Y21kYiZwYXNzd29yZD1jbWRiJyxcblx0XHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcblx0XHRcdGRhdGFUeXBlOiBcImpzb25cIiwgXG5cdFx0XHR1c2VybmFtZTogX3VzZXJuYW1lLFxuXHRcdFx0cGFzc3dvcmQ6IF9wYXNzd29yZCxcblx0XHRcdHR5cGU6IFwiUE9TVFwiXG5cdFx0fSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuXHRcdFx0Y29uc29sZS5sb2cocmVzcC5leHBpcmVzX2luICsgMTApO1xuXHRcdFx0c2V0Q29va2llKCdDTURCLVRPS0VOJywgcmVzcC5hY2Nlc3NfdG9rZW4sIHJlc3AuZXhwaXJlc19pbiArIDEwKTtcblx0XHRcdHNldENvb2tpZSgnQ01EQi1UT0tFTi1UWVBFJywgcmVzcC50b2tlbl90eXBlLCByZXNwLmV4cGlyZXNfaW4gKyAxMCk7XG5cdFx0XHRzZXRDb29raWUoJ0NNREItVVNFUk5BTUUnLCBfdXNlcm5hbWUsIHJlc3AuZXhwaXJlc19pbiArIDEwKTtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9jbWRiL2hvbWUuaHRtbCc7XG5cdFx0fSkuZmFpbChmdW5jdGlvbihyZXNwKXtcblx0XHRcdCQoJy5lcnJvci1tZXNzYWdlJykudGV4dCgn5biQ5Y+35oiW5a+G56CB5LiN5q2j56Gu77yM6K+356Gu6K6kJykuc2hvdygpO1xuXHRcdH0pO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHNldENvb2tpZSggbmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlICkge1xuXHR2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXHR0b2RheS5zZXRUaW1lKCB0b2RheS5nZXRUaW1lKCkgKTtcblx0aWYgKCBleHBpcmVzICkge1xuXHRcdGV4cGlyZXMgPSBleHBpcmVzICogMTAwMDtcblx0fVxuXHR2YXIgZXhwaXJlc19kYXRlID0gbmV3IERhdGUoIHRvZGF5LmdldFRpbWUoKSArIChleHBpcmVzKSApO1xuXHRkb2N1bWVudC5jb29raWUgPSBuYW1lKyc9Jytlc2NhcGUoIHZhbHVlICkgK1xuICAoICggZXhwaXJlcyApID8gJztleHBpcmVzPScrZXhwaXJlc19kYXRlLnRvR01UU3RyaW5nKCkgOiAnJyApICsgXG4gICggKCBwYXRoICkgPyAnO3BhdGg9JyArIHBhdGggOiAnJyApICtcbiAgKCAoIGRvbWFpbiApID8gJztkb21haW49JyArIGRvbWFpbiA6ICcnICkgK1xuICAoICggc2VjdXJlICkgPyAnO3NlY3VyZScgOiAnJyApO1xufVxuIl0sImZpbGUiOiJjbWRiL2xvZ2luLmpzIn0=\n"]}