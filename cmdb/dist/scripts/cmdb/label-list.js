"use strict";var CMDB_API={queryDictionary:"/web/queryDictionary",add:"/web/addLabel","delete":"/web/deleteLabels",update:"/web/updateLabel",column:"/web/label/column",query:"/web/label/query","export":"/web/excel/download/label","import":"/web/excel/upload/label"};META.code={label:"标签_code",required:!0,maxLength:30};var EDIT_FIELDS=["label_key","label_value","status","description"],selectAry=["status"],createData=function(e){$.each(selectAry,function(a,t){for(var l=0;l<META[t].options.length;l++)META[t].options[l].label==e[t]?META[t].options[l].select=!0:META[t].options[l].select=!1}),WUI.ModalDialog.create({buttonHide:!0}),WUI.dataDialog.create({$el:$(".modal-body"),dialogPop:!0,meta:META,list:e,buttonHide:!1,onConfirm:submitData.bind(null,e),fields:EDIT_FIELDS})};queryData=function(e){var a=function(a){a.setRequestHeader("pageNum",e.currentPage),a.setRequestHeader("pageLimit",e.pageSize),a.setRequestHeader("Authorization",getCookie("CMDB-TOKEN-TYPE")+" "+getCookie("CMDB-TOKEN"))};WUI.ajax({url:DOMAIN.CMDB+CMDB_API.query,method:"POST",jsonData:queryJson(),disableXSS:!0,beforeSend:a}).then(function(a){WUI.DataTable.create({$el:$(".data-table"),meta:META,fields:TABLE_FIELDS,list:a.list,operations:[{name:"编辑",callback:createData},{name:"删除",callback:deleteData}],groups:[{name:"批量删除",className:"btn btn-xs btn-danger",id:"btn-danger",callback:deleteData}]}),WUI.DataPaginator.create({$el:$(".data-paginator"),currentPage:e.currentPage-1,total:a.totalCount,pageSize:e.pageSize,onSwitchPage:function(a){queryData({currentPage:a+1,pageSize:e.pageSize})}})})},WUI.ready=function(){queryDictionary("label"),WUI.ContentHeader.create({$el:$(".content-header"),meta:[{name:"标签"}]})},$(function(){WUI.init({system:"cmdb"})});
//# sourceMappingURL=label-list.js.map
