{"version":3,"sources":["cmdb/vm-list.js"],"names":["CMDB_API","queryDictionary","add","delete","update","column","query","export","import","META","label","required","maxLength","EDIT_FIELDS_BASIC","EDIT_FIELDS_NET","EDIT_FIELDS_OS","EDIT_FIELDS_OTHER","selectAry","createData","item","$","each","i","e","j","options","length","select","WUI","ModalDialog","create","onConfirm","submitData","bind","append","dataDialog","$el","meta","list","buttonHide","fields","htmlAppend","ready","ContentHeader","name","init","system"],"mappings":"AAAA,YAEA,IAAIA,WACFC,gBAAiB,uBACjBC,IAAK,aACLC,SAAQ,iBACRC,OAAQ,gBACRC,OAAQ,iBACRC,MAAO,gBACPC,SAAQ,yBACRC,SAAQ,uBAEVC,MAAW,MAAMC,MAAO,WAAYC,UAAU,EAAMC,UAAU,GAC9D,IAAIC,oBAAqB,OAAQ,cAAe,MAAO,aAAc,SAAU,WAAY,WAAY,YACnGC,iBAAmB,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,UAAW,YAAa,YAAa,WACrVC,gBAAkB,YAAa,cAC/BC,mBAAqB,SAAU,YAAa,iBAAkB,aAAc,eAE5EC,WAAa,aAAa,YAAY,YAAY,YAAY,YAAY,YAAY,YAAY,YAAY,YAAY,YAAY,YAAY,aAAa,YAAY,UAC3KC,WAAa,SAAUC,GAEzBC,EAAEC,KAAKJ,UAAU,SAASK,EAAGC,GAC3B,IAAI,GAAIC,GAAE,EAAEA,EAAEf,KAAKc,GAAGE,QAAQC,OAAOF,IAC/Bf,KAAKc,GAAGE,QAAQD,GAAGd,OAASS,EAAKI,GACnCd,KAAKc,GAAGE,QAAQD,GAAGG,QAAS,EAE5BlB,KAAKc,GAAGE,QAAQD,GAAGG,QAAS,IAKlCC,IAAIC,YAAYC,QACdC,UAAWC,WAAWC,KAAK,KAAMd,KAGnCC,EAAE,eAAec,OAAO,iBACxBN,IAAIO,WAAWL,QACbM,IAAKhB,EAAE,eACPiB,KAAM5B,KACN6B,KAAMnB,EACNoB,YAAY,EACZC,OAAQ3B,kBACR4B,YAAY,IAEdrB,EAAE,eAAec,OAAO,iBACxBN,IAAIO,WAAWL,QACbM,IAAKhB,EAAE,eACPiB,KAAM5B,KACN6B,KAAMnB,EACNoB,YAAY,EACZC,OAAQ1B,gBACR2B,YAAY,IAEdrB,EAAE,eAAec,OAAO,iBACxBN,IAAIO,WAAWL,QACbM,IAAKhB,EAAE,eACPiB,KAAM5B,KACN6B,KAAMnB,EACNoB,YAAY,EACZC,OAAQzB,eACR0B,YAAY,IAEdrB,EAAE,eAAec,OAAO,iBACxBN,IAAIO,WAAWL,QACbM,IAAKhB,EAAE,eACPiB,KAAM5B,KACN6B,KAAMnB,EACNoB,YAAY,EACZC,OAAQxB,kBACRyB,YAAY,IAKhBb,KAAIc,MAAQ,WAEVzC,gBAAgB,MAGhB2B,IAAIe,cAAcb,QAChBM,IAAKhB,EAAE,mBACPiB,OACEO,KAAM,WAKZxB,EAAE,WACAQ,IAAIiB,MACFC,OAAQ","file":"vm-list.js","sourcesContent":["'use strict';\n// Constants\nvar CMDB_API = {\n  queryDictionary: '/web/queryDictionary', // 数据字典\n  add: '/web/addVm', // 增\n  delete: '/web/deleteVms', // 删\n  update: '/web/updateVm', // 改\n  column: '/web/vm/column', // 查询条件\n  query: '/web/vm/query', // 查\n  export: '/web/excel/download/vm', // export\n  import: '/web/excel/upload/vm' // import\n};\nMETA['code'] = { label: '虚拟机_code', required: true, maxLength:30 };\nvar EDIT_FIELDS_BASIC = ['code', 'server_code', 'cpu', 'cloud_type', 'memory', 'harddisk', 'hostname', 'optional'];\nvar EDIT_FIELDS_NET = ['net_name1', 'net_type1', 'net_ip1', 'net_name2', 'net_type2', 'net_ip2', 'net_name3', 'net_type3', 'net_ip3', 'net_name4', 'net_type4', 'net_ip4', 'net_name5', 'net_type5', 'net_ip5', 'net_name6', 'net_type6', 'net_ip6', 'net_name7', 'net_type7', 'net_ip7', 'net_name8', 'net_type8', 'net_ip8', 'net_name9', 'net_type9', 'net_ip9'];\nvar EDIT_FIELDS_OS = ['os_family', 'os_version'];\nvar EDIT_FIELDS_OTHER = ['status', 'allocated', 'alloc_deadline', 'stock_time', 'description'];\n\nvar selectAry = ['cloud_type','net_type1','net_type2','net_type3','net_type4','net_type5','net_type6','net_type7','net_type8','net_type9','os_family','os_version','allocated','status'];\nvar createData = function (item) {\n  // 初始化select\n  $.each(selectAry,function(i, e){\n    for(var j=0;j<META[e].options.length;j++){\n      if (META[e].options[j].label == item[e]) {\n        META[e].options[j].select = true;\n      } else {\n        META[e].options[j].select = false;\n      }\n    }\n  });\n\n  WUI.ModalDialog.create({\n    onConfirm: submitData.bind(null, item),\n  });\n\n  $('.modal-body').append('<h4>基础信息</h6>');\n  WUI.dataDialog.create({\n    $el: $('.modal-body'),\n    meta: META,\n    list: item,\n    buttonHide: true,\n    fields: EDIT_FIELDS_BASIC,\n    htmlAppend: true\n  });\n  $('.modal-body').append('<h4>网络信息</h6>');\n  WUI.dataDialog.create({\n    $el: $('.modal-body'),\n    meta: META,\n    list: item,\n    buttonHide: true,\n    fields: EDIT_FIELDS_NET,\n    htmlAppend: true\n  });\n  $('.modal-body').append('<h4>OS信息</h6>');\n  WUI.dataDialog.create({\n    $el: $('.modal-body'),\n    meta: META,\n    list: item,\n    buttonHide: true,\n    fields: EDIT_FIELDS_OS,\n    htmlAppend: true\n  });\n  $('.modal-body').append('<h4>其他信息</h6>');\n  WUI.dataDialog.create({\n    $el: $('.modal-body'),\n    meta: META,\n    list: item,\n    buttonHide: true,\n    fields: EDIT_FIELDS_OTHER,\n    htmlAppend: true\n  });\n};\n\n// Load Page\nWUI.ready = function () {\n  // meta的元素数据字典 => cloumn数据 => 查询数据\n  queryDictionary('vm');\n\n  // 面包屑\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '虚拟机'\n    }]\n  });\n}\n// Keep this function\n$(function () {\n  WUI.init({\n    system: 'cmdb'\n  });\n});\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjbWRiL3ZtLWxpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gQ29uc3RhbnRzXG52YXIgQ01EQl9BUEkgPSB7XG4gIHF1ZXJ5RGljdGlvbmFyeTogJy93ZWIvcXVlcnlEaWN0aW9uYXJ5JywgLy8g5pWw5o2u5a2X5YW4XG4gIGFkZDogJy93ZWIvYWRkVm0nLCAvLyDlop5cbiAgZGVsZXRlOiAnL3dlYi9kZWxldGVWbXMnLCAvLyDliKBcbiAgdXBkYXRlOiAnL3dlYi91cGRhdGVWbScsIC8vIOaUuVxuICBjb2x1bW46ICcvd2ViL3ZtL2NvbHVtbicsIC8vIOafpeivouadoeS7tlxuICBxdWVyeTogJy93ZWIvdm0vcXVlcnknLCAvLyDmn6VcbiAgZXhwb3J0OiAnL3dlYi9leGNlbC9kb3dubG9hZC92bScsIC8vIGV4cG9ydFxuICBpbXBvcnQ6ICcvd2ViL2V4Y2VsL3VwbG9hZC92bScgLy8gaW1wb3J0XG59O1xuTUVUQVsnY29kZSddID0geyBsYWJlbDogJ+iZmuaLn+acul9jb2RlJywgcmVxdWlyZWQ6IHRydWUsIG1heExlbmd0aDozMCB9O1xudmFyIEVESVRfRklFTERTX0JBU0lDID0gWydjb2RlJywgJ3NlcnZlcl9jb2RlJywgJ2NwdScsICdjbG91ZF90eXBlJywgJ21lbW9yeScsICdoYXJkZGlzaycsICdob3N0bmFtZScsICdvcHRpb25hbCddO1xudmFyIEVESVRfRklFTERTX05FVCA9IFsnbmV0X25hbWUxJywgJ25ldF90eXBlMScsICduZXRfaXAxJywgJ25ldF9uYW1lMicsICduZXRfdHlwZTInLCAnbmV0X2lwMicsICduZXRfbmFtZTMnLCAnbmV0X3R5cGUzJywgJ25ldF9pcDMnLCAnbmV0X25hbWU0JywgJ25ldF90eXBlNCcsICduZXRfaXA0JywgJ25ldF9uYW1lNScsICduZXRfdHlwZTUnLCAnbmV0X2lwNScsICduZXRfbmFtZTYnLCAnbmV0X3R5cGU2JywgJ25ldF9pcDYnLCAnbmV0X25hbWU3JywgJ25ldF90eXBlNycsICduZXRfaXA3JywgJ25ldF9uYW1lOCcsICduZXRfdHlwZTgnLCAnbmV0X2lwOCcsICduZXRfbmFtZTknLCAnbmV0X3R5cGU5JywgJ25ldF9pcDknXTtcbnZhciBFRElUX0ZJRUxEU19PUyA9IFsnb3NfZmFtaWx5JywgJ29zX3ZlcnNpb24nXTtcbnZhciBFRElUX0ZJRUxEU19PVEhFUiA9IFsnc3RhdHVzJywgJ2FsbG9jYXRlZCcsICdhbGxvY19kZWFkbGluZScsICdzdG9ja190aW1lJywgJ2Rlc2NyaXB0aW9uJ107XG5cbnZhciBzZWxlY3RBcnkgPSBbJ2Nsb3VkX3R5cGUnLCduZXRfdHlwZTEnLCduZXRfdHlwZTInLCduZXRfdHlwZTMnLCduZXRfdHlwZTQnLCduZXRfdHlwZTUnLCduZXRfdHlwZTYnLCduZXRfdHlwZTcnLCduZXRfdHlwZTgnLCduZXRfdHlwZTknLCdvc19mYW1pbHknLCdvc192ZXJzaW9uJywnYWxsb2NhdGVkJywnc3RhdHVzJ107XG52YXIgY3JlYXRlRGF0YSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIC8vIOWIneWni+WMlnNlbGVjdFxuICAkLmVhY2goc2VsZWN0QXJ5LGZ1bmN0aW9uKGksIGUpe1xuICAgIGZvcih2YXIgaj0wO2o8TUVUQVtlXS5vcHRpb25zLmxlbmd0aDtqKyspe1xuICAgICAgaWYgKE1FVEFbZV0ub3B0aW9uc1tqXS5sYWJlbCA9PSBpdGVtW2VdKSB7XG4gICAgICAgIE1FVEFbZV0ub3B0aW9uc1tqXS5zZWxlY3QgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTUVUQVtlXS5vcHRpb25zW2pdLnNlbGVjdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgV1VJLk1vZGFsRGlhbG9nLmNyZWF0ZSh7XG4gICAgb25Db25maXJtOiBzdWJtaXREYXRhLmJpbmQobnVsbCwgaXRlbSksXG4gIH0pO1xuXG4gICQoJy5tb2RhbC1ib2R5JykuYXBwZW5kKCc8aDQ+5Z+656GA5L+h5oGvPC9oNj4nKTtcbiAgV1VJLmRhdGFEaWFsb2cuY3JlYXRlKHtcbiAgICAkZWw6ICQoJy5tb2RhbC1ib2R5JyksXG4gICAgbWV0YTogTUVUQSxcbiAgICBsaXN0OiBpdGVtLFxuICAgIGJ1dHRvbkhpZGU6IHRydWUsXG4gICAgZmllbGRzOiBFRElUX0ZJRUxEU19CQVNJQyxcbiAgICBodG1sQXBwZW5kOiB0cnVlXG4gIH0pO1xuICAkKCcubW9kYWwtYm9keScpLmFwcGVuZCgnPGg0Pue9kee7nOS/oeaBrzwvaDY+Jyk7XG4gIFdVSS5kYXRhRGlhbG9nLmNyZWF0ZSh7XG4gICAgJGVsOiAkKCcubW9kYWwtYm9keScpLFxuICAgIG1ldGE6IE1FVEEsXG4gICAgbGlzdDogaXRlbSxcbiAgICBidXR0b25IaWRlOiB0cnVlLFxuICAgIGZpZWxkczogRURJVF9GSUVMRFNfTkVULFxuICAgIGh0bWxBcHBlbmQ6IHRydWVcbiAgfSk7XG4gICQoJy5tb2RhbC1ib2R5JykuYXBwZW5kKCc8aDQ+T1Pkv6Hmga88L2g2PicpO1xuICBXVUkuZGF0YURpYWxvZy5jcmVhdGUoe1xuICAgICRlbDogJCgnLm1vZGFsLWJvZHknKSxcbiAgICBtZXRhOiBNRVRBLFxuICAgIGxpc3Q6IGl0ZW0sXG4gICAgYnV0dG9uSGlkZTogdHJ1ZSxcbiAgICBmaWVsZHM6IEVESVRfRklFTERTX09TLFxuICAgIGh0bWxBcHBlbmQ6IHRydWVcbiAgfSk7XG4gICQoJy5tb2RhbC1ib2R5JykuYXBwZW5kKCc8aDQ+5YW25LuW5L+h5oGvPC9oNj4nKTtcbiAgV1VJLmRhdGFEaWFsb2cuY3JlYXRlKHtcbiAgICAkZWw6ICQoJy5tb2RhbC1ib2R5JyksXG4gICAgbWV0YTogTUVUQSxcbiAgICBsaXN0OiBpdGVtLFxuICAgIGJ1dHRvbkhpZGU6IHRydWUsXG4gICAgZmllbGRzOiBFRElUX0ZJRUxEU19PVEhFUixcbiAgICBodG1sQXBwZW5kOiB0cnVlXG4gIH0pO1xufTtcblxuLy8gTG9hZCBQYWdlXG5XVUkucmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIG1ldGHnmoTlhYPntKDmlbDmja7lrZflhbggPT4gY2xvdW1u5pWw5o2uID0+IOafpeivouaVsOaNrlxuICBxdWVyeURpY3Rpb25hcnkoJ3ZtJyk7XG5cbiAgLy8g6Z2i5YyF5bGRXG4gIFdVSS5Db250ZW50SGVhZGVyLmNyZWF0ZSh7XG4gICAgJGVsOiAkKCcuY29udGVudC1oZWFkZXInKSxcbiAgICBtZXRhOiBbe1xuICAgICAgbmFtZTogJ+iZmuaLn+acuidcbiAgICB9XVxuICB9KTtcbn1cbi8vIEtlZXAgdGhpcyBmdW5jdGlvblxuJChmdW5jdGlvbiAoKSB7XG4gIFdVSS5pbml0KHtcbiAgICBzeXN0ZW06ICdjbWRiJ1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJjbWRiL3ZtLWxpc3QuanMifQ==\n"]}